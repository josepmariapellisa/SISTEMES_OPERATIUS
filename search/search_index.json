{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introducci\u00f3 al Projecte de Virtualitzaci\u00f3 amb Ubuntu i Windows","text":""},{"location":"#informacio-de-lalumne","title":"Informaci\u00f3 de l'Alumne","text":"<ul> <li>Nom: Josep Maria Pellisa Espinach  </li> <li>Curs: 1r ASIX 2025  </li> <li>Projecte: Virtualitzaci\u00f3 de sistemes operatius amb Ubuntu i Windows  </li> </ul> <p>En aquest projecte, explorarem com instal\u00b7lar i configurar Ubuntu Linux i Windows dins d'una m\u00e0quina virtual. L'objectiu \u00e9s facilitar la gesti\u00f3 i l'\u00fas d'aquests sistemes operatius tant per a principiants com per a usuaris avan\u00e7ats.</p>"},{"location":"#objectius-del-projecte","title":"Objectius del Projecte","text":"<p>Durant aquest curs, aprendrem els aspectes fonamentals per treballar amb Ubuntu i Windows en un entorn virtual:</p> <ul> <li>Instal\u00b7laci\u00f3 i configuraci\u00f3: Com preparar i posar en marxa Ubuntu i Windows en una m\u00e0quina virtual.</li> <li>Administraci\u00f3 del sistema: Configuraci\u00f3 b\u00e0sica, actualitzacions i manteniment en ambd\u00f3s sistemes.</li> <li>Xarxes i connectivitat: Configuraci\u00f3 de connexions de xarxa dins de la virtualitzaci\u00f3.</li> <li>Gesti\u00f3 de permisos i fitxers: Entendre ACLs, estructures de particions i quotes de disc.</li> <li>C\u00f2pies de seguretat i restauraci\u00f3: Estrat\u00e8gies per protegir les dades del sistema.</li> <li>Execuci\u00f3 de comandes b\u00e0siques: Per gestionar processos, usuaris i recursos en Ubuntu i Windows.</li> <li>Automatitzaci\u00f3 de tasques: \u00das de scripts i planificadors per optimitzar l'administraci\u00f3.</li> <li>Llic\u00e8ncies de programari: Introducci\u00f3 als tipus de llic\u00e8ncies i el seu impacte en el software lliure i privatiu.</li> </ul> <p>Aquesta guia servir\u00e0 com a refer\u00e8ncia per acompanyar el proc\u00e9s d'aprenentatge, oferint exemples i captures de pantalla per a una millor comprensi\u00f3.</p>"},{"location":"Sprint_4/raid_5/","title":"Tutorial: Configuraci\u00f3 de RAID 5 a Ubuntu","text":"<p>Aquest tutorial t'orientar\u00e0 pels passos necessaris per configurar un RAID 5 en un sistema Ubuntu utilitzant <code>mdadm</code>. El RAID 5 \u00e9s un nivell de RAID que ofereix redund\u00e0ncia i millora el rendiment distribuint les dades i la paritat entre m\u00faltiples discs.</p>"},{"location":"Sprint_4/raid_5/#requisits-previs","title":"Requisits previs","text":"<ul> <li>Un sistema Ubuntu instal\u00b7lat.</li> <li>Acc\u00e9s de root o permisos de superusuari.</li> <li>Almenys 3 discs addicionals per configurar el RAID 5.</li> </ul>"},{"location":"Sprint_4/raid_5/#pas-1-installacio-de-mdadm","title":"Pas 1: Instal\u00b7laci\u00f3 de <code>mdadm</code>","text":"<p>Primer, assegura't que <code>mdadm</code> estigui instal\u00b7lat al teu sistema. <code>mdadm</code> \u00e9s una eina per gestionar dispositius RAID a Linux.</p> <p> </p>"},{"location":"Sprint_4/raid_5/#pas-2-identificacio-dels-discs","title":"Pas 2: Identificaci\u00f3 dels discs","text":"<p>Abans de configurar el RAID 5, \u00e9s necessari identificar els discs que utilitzarem. Pots fer-ho amb el comandament <code>lsblk</code>, que mostra tots els discs i particions del sistema.</p> <p> </p> <p>Aquest captura mostra la mateixa comanda pero retallan els discs que volem mostrar.</p>"},{"location":"Sprint_4/raid_5/#pas-3-creacio-de-particions-als-discs","title":"Pas 3: Creaci\u00f3 de particions als discs","text":"<p>Un cop identificats els discs que utilitzarem per al RAID 5, hem de crear particions en cadascun d'ells. Aix\u00f2 es fa amb l'eina <code>fdisk</code>.</p> <ol> <li> <p>Obre <code>fdisk</code> per al disc que vols particionar. Per exemple, per al disc <code>sdb</code>:</p> </li> <li> <p>Prem <code>g</code> per crear una nova taula de particions GPT.</p> </li> <li> <p>Aix\u00f2 inicialitza el disc amb una taula de particions GPT, que \u00e9s necess\u00e0ria per a discs grans o sistemes moderns.</p> </li> <li> <p>Prem <code>n</code> per crear una nova partici\u00f3.</p> </li> <li> <p>Aix\u00f2 iniciar\u00e0 el proc\u00e9s de creaci\u00f3 d'una nova partici\u00f3.</p> </li> <li> <p>Selecciona el n\u00famero de partici\u00f3 (per defecte 1).</p> </li> <li> <p>Pots acceptar el valor per defecte (1) prement <code>Enter</code>.</p> </li> <li> <p>Defineix el sector inicial (per defecte 2048).</p> </li> <li> <p>Accepta el valor per defecte prement <code>Enter</code>.</p> </li> <li> <p>Defineix el sector final (per defecte el final del disc).</p> </li> <li> <p>Pots acceptar el valor per defecte prement <code>Enter</code> per utilitzar tot l'espai disponible.</p> </li> <li> <p>Prem <code>w</code> per desar els canvis i sortir.</p> </li> <li>Aix\u00f2 escriu els canvis a la taula de particions i surt de <code>fdisk</code>.</li> </ol> <p>Entrem al disc sdb i el particionem, amb l'eina fdisk esmentada anteriorment.   Finalment comprovem que tenim correctament creada la particio amb lsblk. </p> <p>Realitzem el mateix per a el disc sdc. </p> <p>I comprovem amb l'eina anterior </p> <p>Aqui realitzarem el mateix per a sdd  </p> <p>I comprovem, que ja tenim tots els discos particionats. </p>"},{"location":"Sprint_4/raid_5/#pas-4-creacio-del-raid-5","title":"Pas 4: Creaci\u00f3 del RAID 5","text":"<p>Un cop creades les particions als discs, pots crear el RAID 5 utilitzant l'eina <code>mdadm</code>. Aquest pas combina les particions dels discs per crear un \u00fanic dispositiu RAID 5.</p> <ol> <li> <p>Executa el seg\u00fcent comandament per crear el RAID 5:</p> </li> <li> <p><code>/dev/md0</code>: \u00c9s el nom del dispositiu RAID que es crear\u00e0. Aquest ser\u00e0 el punt de muntatge del RAID 5.</p> </li> <li> <p><code>--level=5</code>: Defineix el nivell de RAID com a RAID 5. RAID 5 ofereix redund\u00e0ncia i millora el rendiment distribuint les dades i la paritat entre m\u00faltiples discs.</p> </li> <li> <p><code>--raid-devices=3</code>: Indica el nombre de discs que s'utilitzaran en el RAID. En aquest cas, s'utilitzen 3 discs.</p> </li> <li> <p><code>/dev/sdb1 /dev/sdc1 /dev/sdd1</code>: S\u00f3n les particions que s'utilitzaran per crear el RAID. Aquestes particions han de ser creades pr\u00e8viament en els discs <code>sdb</code>, <code>sdc</code> i <code>sdd</code>.</p> </li> </ol> <p>En aquesta captura monitoritzarem el RAID amb la comanda watch mdadm --detail. </p> <p>En aquest cas no ens mostra res ja que esta escoltant i encara no hem realitzat cap comanda. </p> <p>Aqui crearem ja el RAID amb els parametres esmentats anteriorment, seleccionan els 3 discs amb un nivell de RAID5. </p> <p>Com podem observar ja s'ens mostra per surtida els resultats dels raids i podem observar que ens diu que esta operatiu i amb els 3 disc que habiem seleccionat i amb el nom md0. </p> <p>Aqui realitzem un detail --scan per poder visualitzar el raid amb el seu uuid. </p> <p>Ho actualitzem al boot d'arranc per a que ho reconegui. </p> <p>I tornem a mostrar la comanda lsblk amb la qual cosa ja podem comprovar que tenim el Raid creat.</p> <p></p> <p>Aqui l'hi establirem el sistema de fitxers ext4. </p> <p>I crearem la carpeta amb permisos totals que l'hi muntarem al Raid.  </p> <p>Aqui tornem a comprovar que tinguem el Raid operatiu. </p> <p>Amb els 3 discos OK.</p> <p></p> <p>Aqui montarem el Raid a la carpeta que hem creat anteriorment. </p> <p>I en aquest pas actualitzarem el fitxer Fstab per mantindre el Raid amb la seva carpeta al reiniciar equip. </p> <p>Ho podem realitzar tant modificant el fitxer com realitzant directament aquesta comanda.   Guardem i surtim.</p>"},{"location":"Sprint_4/raid_5/#pas-5-proves-del-raid-5","title":"Pas 5:  Proves del RAID 5","text":""},{"location":"Sprint_4/raid_5/#verificacio-de-lestat-del-raid-despres-duna-fallada","title":"Verificaci\u00f3 de l'estat del RAID despr\u00e9s d'una fallada","text":"<p>Es crea un fitxer de prova al RAID 5 per verificar el seu funcionament: </p> <p> </p> <p>Es simula un fallada en un dels discs del RAID: </p> <p>Es comprova l'estat del RAID despr\u00e9s de marcar el disc com a fallat: Podem observar que tenim el raid degradad.</p> <p></p> <p>Aqui ens mostra com el disc sdd el tenim eliminat del raid automaticament </p> <p>Pero comprovem que igual seguim conservant les dades ja que hi ha paratitat entre els disc i es reparteixen l'informaci\u00f3  </p> <p>Procedirem a l'extraccio del disc pero automaticament cuan ens falla ja el retira del RAID. </p> <p>Podem observar com tenim nomes 2 devices </p> <p>I el sdd ens surt eliminat. </p> <p>I aqui podem observar com no te cap particio de RAID </p> <p>Aqui afegirem un nou disc per substituir el sdd.  </p> <p>Aqui podem observar que ja el tenim instalat ara ens falta realitzar el mateix proces que hem realitzat al principi de la creaci\u00f3 del RAID </p> <p>El particionem amb fdisk i ho comprovem  </p> <p>Aqui l'afegim al RAID que teniem creat </p> <p>I autonmaticament veiem que ja l'incorpora al RAID.  </p>"},{"location":"Sprint_4/raid_5/#estat-del-raid-5-amb-4-discs","title":"Estat del RAID 5 amb 4 discs.","text":"<p>Afegirem els 4 disc que sera el antic que teniem abans en aquest cas el sdd  </p> <p>I com podem comprovar s'afegeix automaticament pero resta a l'espera es a dir fins que un disc no falle no es posara en actiu ja que esta de reserva. </p> <p>Aqui en aquest cas traurem el disc 1 sdb i veurem com automaticament el disc 4 es posara en actiu.  </p> <p>En aquest apartat pararem el RAID i actualitzarem els canvis del RAID per a que torni estar operatiu.</p> <p> </p> <p>I seguim mantenin les dades. </p>"},{"location":"Sprint_4/raid_teoria/","title":"Qu\u00e8 s\u00f3n els RAID?","text":"<p>RAID (Redundant Array of Independent Disks) \u00e9s una tecnologia d'emmagatzematge que combina diversos discos durs per millorar el rendiment, la toler\u00e0ncia a fallades o ambdues coses. Els sistemes RAID s'utilitzen principalment en servidors, sistemes NAS i entorns on la integritat de les dades i la disponibilitat s\u00f3n essencials.</p>"},{"location":"Sprint_4/raid_teoria/#per-que-utilitzar-raid","title":"Per qu\u00e8 utilitzar RAID?","text":"<p>L'\u00fas de RAID pot tenir diversos objectius: - Millorar el rendiment: Augmentant la velocitat de lectura/escriptura distribuint les dades entre diversos discos. - Assegurar la redund\u00e0ncia: Protegint les dades en cas de fallada d\u2019un o m\u00e9s discos. - Augmentar la capacitat d'emmagatzematge: Combinant diversos discos en una \u00fanica unitat l\u00f2gica. - Disponibilitat cont\u00ednua: Minimitzant el temps d'inactivitat en sistemes cr\u00edtics.</p>"},{"location":"Sprint_4/raid_teoria/#tipus-de-raid-i-caracteristiques","title":"Tipus de RAID i caracter\u00edstiques","text":""},{"location":"Sprint_4/raid_teoria/#raid-0-striping-distribucio-de-dades","title":"RAID 0 - Striping (Distribuci\u00f3 de dades)","text":"<p>RAID 0 divideix les dades en blocs i les distribueix entre dos o m\u00e9s discos sense paritat ni redund\u00e0ncia. - Avantatges:   - Millora considerablement la velocitat de lectura i escriptura.   - Tot l'espai d'emmagatzematge es pot utilitzar. - Desavantatges:   - No ofereix protecci\u00f3 contra fallades; si un disc falla, es perden totes les dades. - \u00das recomanat:   - Sistemes on el rendiment \u00e9s prioritari, com edici\u00f3 de v\u00eddeo o jocs.</p>"},{"location":"Sprint_4/raid_teoria/#raid-1-mirroring-duplicacio-de-dades","title":"RAID 1 - Mirroring (Duplicaci\u00f3 de dades)","text":"<p>RAID 1 emmagatzema una c\u00f2pia exacta de les dades en dos discos. - Avantatges:   - Si un disc falla, les dades segueixen disponibles al segon disc.   - Augmenta la velocitat de lectura, ja que es poden llegir dades de qualsevol disc. - Desavantatges:   - Es perd el 50% de la capacitat d\u2019emmagatzematge, ja que cada dada es guarda per duplicat. - \u00das recomanat:   - Sistemes cr\u00edtics que requereixen alta fiabilitat, com servidors de bases de dades o sistemes operatius importants.</p>"},{"location":"Sprint_4/raid_teoria/#raid-5-striping-amb-paritat-distribuida","title":"RAID 5 - Striping amb paritat distribu\u00efda","text":"<p>RAID 5 distribueix les dades entre un m\u00ednim de tres discos i afegeix informaci\u00f3 de paritat per permetre la recuperaci\u00f3 en cas de fallada. - Avantatges:   - Proporciona un bon equilibri entre seguretat, rendiment i capacitat.   - En cas de fallada d\u2019un disc, el sistema pot reconstruir les dades. - Desavantatges:   - La reconstrucci\u00f3 pot ser lenta.   - Es perd una part de la capacitat per la informaci\u00f3 de paritat. - \u00das recomanat:   - Servidors empresarials que necessiten alta disponibilitat i capacitat d\u2019emmagatzematge.</p>"},{"location":"Sprint_4/raid_teoria/#raid-6-striping-amb-doble-paritat","title":"RAID 6 - Striping amb doble paritat","text":"<p>RAID 6 \u00e9s una evoluci\u00f3 de RAID 5 que utilitza dues capes de paritat, permetent la fallada simult\u00e0nia de dos discos. - Avantatges:   - Major seguretat respecte a RAID 5.   - Si dos discos fallen alhora, les dades es poden recuperar. - Desavantatges:   - Rendiment m\u00e9s baix en escriptura a causa del doble c\u00e0lcul de paritat.   - Es necessita m\u00e9s espai d'emmagatzematge per a la informaci\u00f3 de paritat. - \u00das recomanat:   - Sistemes que requereixen alta redund\u00e0ncia, com grans servidors o sistemes de c\u00f2pies de seguretat.</p>"},{"location":"Sprint_4/raid_teoria/#raid-10-combinacio-de-raid-1-i-raid-0-mirroring-striping","title":"RAID 10 - Combinaci\u00f3 de RAID 1 i RAID 0 (Mirroring + Striping)","text":"<p>RAID 10 combina els avantatges de RAID 0 i RAID 1, fent mirroring i striping simult\u00e0niament. - Avantatges:   - Alta velocitat de lectura i escriptura.   - Protecci\u00f3 davant la fallada de fins a la meitat dels discos (si no s\u00f3n del mateix parell de mirroring). - Desavantatges:   - Es requereix un m\u00ednim de quatre discos.   - Nom\u00e9s el 50% de l\u2019espai d\u2019emmagatzematge \u00e9s usable. - \u00das recomanat:   - Sistemes que necessiten alta velocitat i seguretat, com bases de dades cr\u00edtiques i servidors de transaccions.</p>"},{"location":"Sprint_4/raid_teoria/#diferencies-entre-raid-per-hardware-i-raid-per-software","title":"Difer\u00e8ncies entre RAID per Hardware i RAID per Software","text":""},{"location":"Sprint_4/raid_teoria/#raid-per-hardware","title":"RAID per Hardware","text":"<ul> <li>Utilitza una controladora RAID dedicada per gestionar els discos.</li> <li>No carrega la CPU del sistema amb c\u00e0lculs de paritat.</li> <li>\u00c9s m\u00e9s cost\u00f3s per\u00f2 ofereix millor rendiment i gesti\u00f3 avan\u00e7ada.</li> </ul>"},{"location":"Sprint_4/raid_teoria/#raid-per-software","title":"RAID per Software","text":"<ul> <li>\u00c9s gestionat pel sistema operatiu, sense necessitat de maquinari addicional.</li> <li>M\u00e9s econ\u00f2mic per\u00f2 pot afectar el rendiment del sistema.</li> <li>Implementable en Linux (mdadm), Windows (Disk Management) i macOS.</li> </ul>"},{"location":"Sprint_4/raid_teoria/#quin-raid-escollir","title":"Quin RAID escollir?","text":"Nivell RAID M\u00ednim de discos Rendiment Seguretat \u00das recomanat RAID 0 2 \ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25 \u274c Edici\u00f3 de v\u00eddeo, gaming RAID 1 2 \ud83d\udd25\ud83d\udd25 \ud83d\udd12\ud83d\udd12\ud83d\udd12\ud83d\udd12 Servidors cr\u00edtics RAID 5 3 \ud83d\udd25\ud83d\udd25\ud83d\udd25 \ud83d\udd12\ud83d\udd12\ud83d\udd12 Servidors empresarials RAID 6 4 \ud83d\udd25\ud83d\udd25 \ud83d\udd12\ud83d\udd12\ud83d\udd12\ud83d\udd12 Sistemes de backup RAID 10 4 \ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25 \ud83d\udd12\ud83d\udd12\ud83d\udd12 Bases de dades cr\u00edtiques"},{"location":"Sprint_4/raid_teoria/#conclusio","title":"Conclusi\u00f3","text":"<p>L'elecci\u00f3 d\u2019un RAID dep\u00e8n de les necessitats espec\u00edfiques del sistema. - Si es busca m\u00e0xim rendiment, RAID 0 \u00e9s una bona opci\u00f3. - Per a seguretat de les dades, RAID 1, 5, 6 o 10 s\u00f3n recomanats. - RAID 10 \u00e9s ideal si es vol un equilibri entre velocitat i protecci\u00f3.  </p> <p>Cada nivell t\u00e9 avantatges i inconvenients, i la decisi\u00f3 ha d\u2019estar basada en la import\u00e0ncia de les dades i el pressupost disponible.</p> <p>\ud83d\udccc RAID no \u00e9s una alternativa a les c\u00f2pies de seguretat! Encara que protegeix contra la fallada de discos, no protegeix contra errors humans, malware o corrupci\u00f3 de dades. Sempre \u00e9s recomanable tenir c\u00f2pies de seguretat externes. </p>"},{"location":"Sprint_4_Windows/Copies_Seguretat_Windows/","title":"C\u00f2pies de Seguretat Automatitzades en Entorns Windows","text":"<p>En aquest apartat realitzarem la configuraci\u00f3 d\u2019un sistema de c\u00f2pies de seguretat automatitzades en entorns Windows. L\u2019objectiu principal \u00e9s assegurar la protecci\u00f3 de les dades dels usuaris davant possibles p\u00e8rdues causades per errors humans, fallades del sistema o atacs de programari malici\u00f3s.</p> <p>Per fer-ho, utilitzarem scripts en format .bat, que permeten automatitzar la c\u00f2pia de fitxers de manera senzilla i eficient. Aquests scripts es poden programar perqu\u00e8 s\u2019executin de forma peri\u00f2dica mitjan\u00e7ant l\u2019eina Programador de Tasques de Windows, garantint aix\u00ed una c\u00f2pia regular de la informaci\u00f3 important.</p> <p>La pr\u00e0ctica se centrar\u00e0 a fer una c\u00f2pia de la carpeta personal de cada usuari i desar-la en un disc de seguretat extern o una unitat assignada espec\u00edficament per a backups. Aquesta configuraci\u00f3 \u00e9s molt \u00fatil tant en entorns dom\u00e8stics com en empreses, on la seguretat i la continu\u00eftat de les dades s\u00f3n fonamentals.</p> <p>Primer que tot afegirem un nou disc on desarem les copies. </p> <p>Mostrem la MV que usarem amb el disc ja incorporat. </p> <p>Formatarem el disc i l'hi donarem format NTFS. </p> <p>I comprovem que estigui correctament formatat. </p> <p>Crearem el Script amb extensi\u00f3 .bat </p> <p>Dintre d'aquest script s'encarrega de crear una c\u00f2pia de seguretat autom\u00e0tica de totes les dades de l'usuari de Windows. Primer, crea una carpeta dins la unitat de c\u00f2pies de seguretat (en aquest cas, la E:) amb el nom de l'usuari actual, gr\u00e0cies a la variable d'entorn %USERNAME%. A continuaci\u00f3, utilitza l'eina xcopy per copiar tot el contingut de la carpeta personal de l\u2019usuari (C:\\Users\\%USERNAME%) cap a la nova ubicaci\u00f3, incloent-hi subcarpetes, fitxers ocults i fitxers del sistema. Tamb\u00e9 s\u2019assegura que el proc\u00e9s continu\u00ef tot i que hi hagi errors i que no calgui confirmar la sobreescriptura de fitxers. Aquest sistema permet fer c\u00f2pies de seguretat de manera senzilla, r\u00e0pida i sense intervenci\u00f3 de l\u2019usuari. </p> <p>Aqui procedirem a descarregar el paquet de gpedit que ens permetra executar l'script a cada usuari automaticament despres de inciar sessi\u00f3. Deixem que faci el curs d'insta\u00b7laci\u00f3. </p> <p>Aqui executem el mateix. </p> <p>AQui ens dirigim COnfiguraci\u00f3 d'usuari, Windows, Scripts hi ha inci de sessi\u00f3 l'afegim. </p> <p>Aqui he cambiat l'extensi\u00f3 del fitxer i l'he tornat a carregar al gpedit. Ja que no m'habia fet la conversi\u00f3 de txt a .bat</p> <p></p> <p>El torno a carregar. </p> <p>Aqui for\u00e7em l'aplicacio de les noves directives. </p> <p>I un cop reiniciat l'usuari o obrint la sessi\u00f3 al cap d'uns minuts s'ens executa el Script i podem observar el directori amb el backup realitzat correctament. </p> <p>Aqui veiem el directori de l'usuari. </p> <p>I la mida de la copia.</p> <p></p>"},{"location":"Sprint_4_Windows/Quotes_Windows/","title":"Quotes de Disc en Windows","text":"<p>En aquest apartat configurarem el sistema de quotes de disc en entorns Windows, una funcionalitat molt \u00fatil per controlar i gestionar l\u2019espai d\u2019emmagatzematge que utilitzen els usuaris dins d\u2019un disc dur o una partici\u00f3 espec\u00edfica. Aquesta eina permet als administradors establir l\u00edmits d\u2019espai perqu\u00e8 cap usuari pugui ocupar m\u00e9s del que se li ha assignat, evitant aix\u00ed situacions de saturaci\u00f3 del disc que podrien afectar el rendiment del sistema o la disponibilitat dels serveis.</p> <p>Les quotes de disc s\u00f3n especialment \u00fatils en entorns compartits, com ara empreses, centres educatius o servidors, on diversos usuaris fan \u00fas d\u2019un mateix recurs d\u2019emmagatzematge. Amb aquesta configuraci\u00f3, es pot controlar millor l\u2019\u00fas dels recursos i prevenir abusos o mal \u00fas de l\u2019espai disponible. En aquesta pr\u00e0ctica veurem com activar-les, configurar l\u00edmits i visualitzar-ne l\u2019\u00fas mitjan\u00e7ant les eines integrades de Windows.</p> <p>Primer que tot mostro el usuari els qual realitzare algunes comprovacions. </p> <p>Utilitzarem el mateix disc de l'apartat anterior de Copies, i farem clicl dret hi ha propietats del disc, seleccionarem cuota.</p> <p></p> <p>Habilitarem els ervei de quotes i establirem al disc un limit de 1GB i una advertencia de Soft de 500MB. I seleccionarem la denegaci\u00f3 d'us d'espari al usuari que no respecti el limit de cuota. </p> <p>Inicio sessi\u00f3 en Secretaria Pellisa, i veiem com el disc ens ha cambiat a 1GB. </p> <p>Aqui baixare uns fitxers de prova un que pesa menos de 1GB, sobre uns 700MB. I despres una iso de Ubuntu que supera el 1GB per veure la denegaci\u00f3. </p> <p>Aqui hem posat el fitxer inferior a 1GB i ens ha deixat correctament posarlo al disc de copies. </p> <p>I si ens fixem al visor d'events ja ens ha avisat que aquest usuari ha superat el nivell d'advertencia de 500MB. </p> <p>Ara provem de moure la ISO i veiem que direcatment ja ens ho proibeix, </p> <p>I veiem al visor d'events com ens diu que hem superat el limit de cuota de 1GB. </p>"},{"location":"Sprint_4_Windows/Raid_5_windows/","title":"Introducci\u00f3 als RAIDs a Windows","text":""},{"location":"Sprint_4_Windows/Raid_5_windows/#que-es-un-raid","title":"Qu\u00e8 \u00e9s un RAID?","text":"<p>RAID (Redundant Array of Independent Disks) \u00e9s una tecnologia d'emmagatzemament que permet combinar diversos discs f\u00edsics en una \u00fanica unitat l\u00f2gica amb els seg\u00fcents objectius:</p> <ul> <li>Millorar el rendiment d'acc\u00e9s a les dades</li> <li>Augmentar la fiabilitat i redund\u00e0ncia</li> <li>Optimitzar l'\u00fas de l'espai d'emmagatzemament</li> </ul>"},{"location":"Sprint_4_Windows/Raid_5_windows/#tipus-de-raid-principals","title":"Tipus de RAID principals","text":"<p>Windows Server suporta diverses configuracions RAID:</p> <ol> <li>RAID 0 (Striping):</li> <li>Divideix les dades entre m\u00faltiples discs</li> <li>Millor rendiment per\u00f2 sense redund\u00e0ncia</li> <li> <p>Requereix m\u00ednim 2 discs</p> </li> <li> <p>RAID 1 (Mirroring):</p> </li> <li>Duplica les dades en discs parells</li> <li>Proporciona redund\u00e0ncia completa</li> <li> <p>Requereix m\u00ednim 2 discs</p> </li> <li> <p>RAID 5 (Parity Striping):</p> </li> <li>Combina striping amb paritat distribu\u00efda</li> <li>Equilibri entre rendiment i redund\u00e0ncia</li> <li>Requereix m\u00ednim 3 discs</li> </ol>"},{"location":"Sprint_4_Windows/Raid_5_windows/#raid-5-caracteristiques-i-avantatges","title":"RAID 5: Caracter\u00edstiques i avantatges","text":""},{"location":"Sprint_4_Windows/Raid_5_windows/#caracteristiques-principals","title":"Caracter\u00edstiques principals:","text":"<ul> <li>Distribueix les dades i la informaci\u00f3 de paritat entre tots els discs</li> <li>Permet la recuperaci\u00f3 de dades en cas de fallada d'un disc</li> <li>Ofereix bona efici\u00e8ncia d'espai (nom\u00e9s perd l'equivalent a un disc per a paritat)</li> </ul>"},{"location":"Sprint_4_Windows/Raid_5_windows/#avantatges","title":"Avantatges:","text":"<ul> <li>Toler\u00e0ncia a errors (suporta la fallada d'un disc)</li> <li>Millor rendiment de lectura que RAID 1</li> <li>Efici\u00e8ncia d'espai superior a RAID 1</li> </ul>"},{"location":"Sprint_4_Windows/Raid_5_windows/#limitacions","title":"Limitacions:","text":"<ul> <li>Rendiment d'escriptura inferior degut al c\u00e0lcul de paritat</li> <li>Requereix m\u00e9s recursos de CPU que configuracions m\u00e9s simples</li> <li>Temps de reconstrucci\u00f3 llargs en discs de gran capacitat</li> </ul>"},{"location":"Sprint_4_Windows/Raid_5_windows/#implementar-raid-5-a-windows-server-2022","title":"Implementar RAID 5 a Windows Server 2022","text":"<p>Per configurar RAID 5 es necessita:</p> <ul> <li> <p>Windows Server 2022 (Standard o Datacenter)</p> </li> <li> <p>M\u00ednim 3 discs f\u00edsics</p> </li> <li> <p>Discs preferiblement de la mateixa mida i tipus</p> </li> <li> <p>Acc\u00e9s amb permisos d'administrador</p> </li> </ul> <p></p> <p>Accedirem a Gesti\u00f3 de disc, mitjan\u00e7ant Windows + x i all\u00ed clicarem a administracions de discos. </p> <p>El sistema detectar\u00e0 els discos nous i ens demanar\u00e0 si volem inicialitzar-los. Acceptem i seleccionem el tipus de partici\u00f3 MBR. </p> <p>Farem clic dret i ens dirigirem a volumen RAID 5, autom\u00e0ticament ja ho detecta que es viable. </p> <p>Iniciem l\u2019assistent de configuraci\u00f3 del mateix RAID 5. </p> <p>Seleccionarem els 3 disc per al RAID. </p> <p>Assignarem la lletra del dispositiu RAID 5 com a R: </p> <p>I establirem el sistema de arxius coma NTFS la mida d\u2019assignaci\u00f3 per defecte i l\u2019etiqueta RAID5_PELLISA.</p> <p></p> <p>Comprovarem les dades que hem configurat al final de l\u2019assistent. </p> <p>I acceptem la l\u2019operaci\u00f3. </p> <p>Aqu\u00ed podem veure els 3 disc amb l\u2019uni\u00f3 del RAID 5. </p> <p>Crearem un directori i un fitxer de prova per realitzar una falla de disc. </p> <p>Extraiem el disc 3. </p> <p>Veiem que continua igual el sistema RAID 5. </p> <p>Veiem que conservem el fitxers perqu\u00e8 hi ha paritat entre ells i es reparteixen les dades. </p> <p>Veiem com ens mostra el administrador de disc un error de redund\u00e0ncia del RAID 5. </p> <p>Afegirem un nou disc en aquest cas el NET_5. </p> <p>L\u2019inicialitzem. </p> <p>I fem clic dret sobre el RAID 5 i escollim l\u2019opci\u00f3 de repara el RAID i autom\u00e0ticament ja ens detecta el disc 5 per incorporar al mateix RAID i sol ventar el problema. </p> <p>Acceptem la operaci\u00f3. </p> <p>I deixem que faci el curs de sincronitzaci\u00f3 del RAID 5 amb el nou disc incorporat. </p> <p>Un cop finalitza podem veure com tenim el RAID 5 operatiu de nou. </p> <p>I veiem que seguim conservant les dades, i tenim el nou disc en funcionament. </p>"},{"location":"Sprint_5/Auditoria_Seguretat/","title":"Auditoria de Seguretat","text":""},{"location":"Sprint_5/Auditoria_Seguretat/#introduccio-a-lynis","title":"Introducci\u00f3 a Lynis","text":"<p>Lynis \u00e9s una eina de seguretat de codi obert dissenyada per realitzar audits de seguretat en sistemes Linux i Unix. Aquesta eina escaneja el sistema en cerca de vulnerabilitats, configuracions inadequades i possibles millores en termes de seguretat. \u00c9s una eina molt utilitzada per administradors de sistemes i professionals de ciberseguretat per assegurar-se que els seus entorns estan ben configurats i protegits.</p> <p>Lynis funciona de manera aut\u00f2noma i proporciona un informe detallat amb recomanacions per millorar la seguretat del sistema. A m\u00e9s, calcula un \u00edndex anomenat Hardening Index, que mesura el nivell de seguretat del sistema.</p>"},{"location":"Sprint_5/Auditoria_Seguretat/#que-es-el-hardening-index","title":"Qu\u00e8 \u00e9s el Hardening Index?","text":"<p>El Hardening Index (\u00cdndex de Enduriment) \u00e9s una puntuaci\u00f3 que Lynis assigna despr\u00e9s de realitzar una auditoria. Aquest \u00edndex reflecteix el grau de seguretat del sistema en base a les configuracions i pr\u00e0ctiques de seguretat implementades. Com m\u00e9s alt sigui l'\u00edndex, m\u00e9s fort i segur ser\u00e0 el sistema.</p> <p>El Hardening Index es calcula tenint en compte factors com:</p> <ul> <li>Configuracions de xarxa segures.</li> <li>Pol\u00edtiques de contrasenyes.</li> <li>Actualitzacions del sistema.</li> <li>Configuracions de permisos i accessos.</li> <li>\u00das de eines de seguretat com firewalls o antivirus.</li> </ul>"},{"location":"Sprint_5/Auditoria_Seguretat/#per-que-volem-pujar-el-hardening-index","title":"Per qu\u00e8 volem pujar el Hardening Index?","text":"<p>Pujar el Hardening Index \u00e9s important per garantir que el sistema est\u00e0 ben protegit contra amenaces externes i internes. Algunes raons per millorar aquest \u00edndex s\u00f3n:</p> <ol> <li>Reduir el risc d'atacs: Un sistema amb un alt nivell de hardening \u00e9s menys vulnerable a atacs de malware, exploits o intrusos.</li> <li>Complir amb normatives: Moltes organitzacions necessiten complir amb est\u00e0ndards de seguretat com GDPR, HIPAA o ISO 27001, i un bon Hardening Index ajuda a assolir aquests requisits.</li> <li>Millorar la confian\u00e7a: Un sistema segur inspira confian\u00e7a en els usuaris i clients.</li> <li>Prevenir p\u00e8rdues de dades: Un sistema ben configurat redueix el risc de p\u00e8rdua o robatori de dades sensibles.</li> </ol>"},{"location":"Sprint_5/Auditoria_Seguretat/#installacio-lynis","title":"Instal\u00b7laci\u00f3 Lynis","text":"<p>En aquest apartat procedirem a l'instal\u00b7laci\u00f3 de Lynis per realtizar una auditoria de seguretat del sistema on la qual detallarem cada pas.</p> <p>Aqui insta\u00b7lem l'eina d'auditories Lynis. </p> <p>Un cop el tenim descarregat, procedim a executar l'auditoria amb la comanda sudo lynis audit system, i veurem com s'inicialitza el programa. </p> <p>Podem veure Lynis ha detectat un sistema Ubuntu 22.04 amb kernel 6.8.0 en maquinari x86_64, completant les comprovacions de perfils i sistema operatiu, per\u00f2 el programa no est\u00e0 actualitzat (\"SIN ACTUALIZACION\"). S'han utilitzat perfils per defecte i generat fitxers de registre i informe a /var/log/lynts.log i /var/log/lynts-report.dat. </p> <p>Aqui ha escanejat les eines del sistema i binaris necessaris per a les proves de Debian, comprovant directoris com /bin, /sbin, i /usr/bin. S'han detectat alguns paquets no instal\u00b7lats com apt-listbugs, apt-listchanges, needrestart, i fail2ban, que podrien millorar la seguretat del sistema. A m\u00e9s, s'ha destacat una advert\u00e8ncia sobre el temps d'execuci\u00f3 prolongat (12.87 segons) en una de les proves (DEB-0001). </p> <p>Aqui podem observar que ha revisat l'entorn d'arrencada i serveis del sistema, detectant que s'utilitza systemd com a gestor de serveis i que l'arrencada UEFI est\u00e0 deshabilitada. S'han trobat 32 serveis en execuci\u00f3 i 49 habilitats a l'arrencada, amb alguns marcats com a insegurs o exposats, com avahi-daemon.service, cups.service, i ModemManager.service. A m\u00e9s, s'ha comprovat que GRUB2 no t\u00e9 protecci\u00f3 amb contrasenya, cosa que podria representar un risc per a la seguretat del sistema. </p> <p>Lynis ha revisat el nucli del sistema (kernel), confirmant que s'utilitza el runlevel 5 i que la CPU suporta funcions de seguretat com PAE i Noexecute (NX). S'han detectat 62 m\u00f2duls del nucli actius i s'ha comprovat que no hi ha actualitzacions pendents del kernel, per\u00f2 la configuraci\u00f3 per defecte dels \"core dumps\" podria millorar-se. </p> <p>Lynis ha revisat la mem\u00f2ria i processos del sistema, confirmant que no hi ha processos morts o en espera d'E/S, per\u00f2 s'ha detectat que l'eina \"prelink\" no est\u00e0 instal\u00b7lada. En l'\u00e0mbit d'usuaris i autenticaci\u00f3, s'han trobat configuracions correctes en fitxers de contrasenyes i grups, per\u00f2 s'ha destacat un perill en els permisos del directori /etc/sudoers.d. A m\u00e9s, s'han descobert sugger\u00e8ncies per millorar, com habilitar el rodatge de contrasenyes i revisar la m\u00e0scara per defecte (umask) a /etc/login.defs. </p> <p>Lynis ha revisat els sistemes de fitxers, destacant sugger\u00e8ncies com separar els punts de muntatge de /home, /tmp i /var, aix\u00ed com millorar les opcions de muntatge per a directoris com /dev i /dev/shm. S'ha detectat que el suport per a dispositius USB no est\u00e0 deshabilitat, cosa que podria representar un risc de seguretat, i que no s'ha trobat l'eina USBGuard per gestionar l'acc\u00e9s a dispositius USB. A m\u00e9s, s'ha confirmat que no hi ha serveis NFS en execuci\u00f3, per\u00f2 es recomana revisar la configuraci\u00f3 del nucli per a sistemes de fitxers poc segurs. </p> <p>Lynis ha detectat paquets vulnerables (marcats com a perill), tot i que el gestor de paquets dpkg i l'eina de revisions de seguretat estan instal\u00b7lats. S'ha comprovat que IPv6 est\u00e0 habilitat amb configuraci\u00f3 autom\u00e0tica, per\u00f2 no s'ha trobat suport per a DNSSEC. A m\u00e9s, s'han identificat ports oberts i s'ha confirmat que no hi ha interf\u00edcies en mode promiscu ni protocols de xarxa poc comuns. </p> <p>Lynis ha revisat els tallafocs, detectant que iptables est\u00e0 actiu per\u00f2 amb un conjunt de regles buit (marcat com a perill). No s'han trobat servidors web com Apache o nginx, ni serveis com SSH, SNMP o LDAP en execuci\u00f3. Tampoc s'han identificat motors de bases de dades instal\u00b7lats al sistema. </p> <p>Lynis ha revisat el sistema de registres (logging), confirmant que RSyslog i el diari de systemd estan actius, per\u00f2 no s'ha trobat registre remot habilitat. S'han detectat serveis insegurs com clients i servidors rsh, telnet, i NIS, que podrien representar riscos de seguretat. A m\u00e9s, els fitxers de b\u00e0ners (/etc/issue i /etc/issue.net) tenen continguts d\u00e8bils, cosa que podria donar informaci\u00f3 sensible a possibles atacants. </p> <p>Lynis ha revisat les tasques programades i la contabilitat del sistema, per\u00f2 no s'han trobat dades de comptabilitat ni l'eina auditd instal\u00b7lada. S'ha detectat que el sistema utilitza systemd-timesyncd per a la sincronitzaci\u00f3 de temps, amb la \u00faltima sincronitzaci\u00f3 fa 262 segons. En l'\u00e0mbit de criptografia, no s'han trobat certificats SSL caducats, per\u00f2 s'ha destacat que la configuraci\u00f3 de MOR \u00e9s d\u00e8bil, i no s'ha trobat suport per a generadors de nombres aleatoris com rngd.</p> <p></p> <p>Lynis ha revisat les eines d'integridat de fitxers i malware, per\u00f2 no s'han trobat eines d'aquest tipus instal\u00b7lades. S'han detectat sugger\u00e8ncies per millorar els permisos de fitxers clau com /etc/crontab, /etc/passwd-, i directoris com /etc/cron.daily. A m\u00e9s, no s'ha identificat cap eina d'automatitzaci\u00f3 o sistemes de detecci\u00f3 d'intrusos (IDS/IPS) al sistema. </p> <p>Lynis ha detectat 2 advert\u00e8ncies: paquets vulnerables i m\u00f2duls de iptables carregats sense regles actives. S'han proporcionat 41 sugger\u00e8ncies, com actualitzar Lynis, instal\u00b7lar eines com apt-listbugs, fail2ban, i configurar una contrasenya per a GRUB. Tamb\u00e9 es recomana instal\u00b7lar needrestart per reiniciar serveis despr\u00e9s d'actualitzacions i millorar la seguretat de PAM amb libpam-tmpdir. </p> <p>Aqui ens diu que ha realitzat un escaneig de seguretat amb un \u00edndex de hardening de 59, revisant 248 proves i components com el tallafocs (actiu) i l'escaneig de malware (no instal\u00b7lat). L'escaneig es va executar en mode normal, amb m\u00f2duls d'auditoria i vulnerabilitats activats. Els fitxers de registre i informe es troben a /var/log/Lynts.log i /var/log/Lynts-report.dat. </p>"},{"location":"Sprint_5/Auditoria_Seguretat/#implementacio-de-seguretat","title":"Implementaci\u00f3 de Seguretat","text":"<p>En aquestes captures mostrarem com refor\u00e7em el sistema per augmentar el Hardening index i aixi fer un sistema mes robust dins del context de la seguretat.</p> <p>Aqu\u00ed procedim a actualitzar la llista de paquets disponibles i instal\u00b7lar eines de seguretat com apt-listchanges, needrestart i fail2ban mitjan\u00e7ant les ordres apt update i apt install. Aquestes eines ajuden a gestionar canvis en les actualitzacions, reiniciar serveis necessaris despr\u00e9s d'actualitzacions i protegir el sistema contra intents d'acc\u00e9s no autoritzats, respectivament. El sistema est\u00e0 connectat als repositoris oficials d'Ubuntu per obtenir els paquets.  </p> <p>Aqu\u00ed procedim a instal\u00b7lar el paquet apt-listbugs, una eina que mostra una llista de errors cr\u00edtics abans de realitzar instal\u00b7lacions o actualitzacions de paquets. Aix\u00f2 ajuda a evitar problemes de seguretat o estabilitat al sistema. La instal\u00b7laci\u00f3 s'ha iniciat correctament, llegint la llista de paquets, creant l'arbre de depend\u00e8ncies i revisant l'estat dels paquets. </p> <p>Aqu\u00ed procedim a instal\u00b7lar el paquet libpam-tmpdir, que configura directoris temporals segurs per a sessions PAM, millorant la seguretat del sistema. S'ha descarregat i instal\u00b7lat correctament, ocupant 52,2 kB d'espai addicional. Aquesta eina \u00e9s \u00fatil per gestionar entorns temporals de manera m\u00e9s segura durant les sessions d'usuari. </p> <p>Aqu\u00ed procedim a instal\u00b7lar els paquets cryptsetup i cryptsetup-bin, que permeten configurar i gestionar el xifrat de discs i particions al sistema. Aquesta instal\u00b7laci\u00f3 inclou tamb\u00e9 cryptsetup-initramfs, necessari per a la integraci\u00f3 amb el sistema d'arrencada. S'han descarregat 365 kB de dades i s'utilitzaran 1.246 kB d'espai addicional. </p> <p>S'instal\u00b7la el compilador gcc i les seves depend\u00e8ncies, necessaris per a desenvolupar i compilar programari en C. La instal\u00b7laci\u00f3 descarrega 52,6 MB i ocupa 116 MB d'espai, actualitzant tamb\u00e9 paquets com libc6. Aquesta eina \u00e9s clau per a la creaci\u00f3 i compilaci\u00f3 de programes al sistema. </p> <p>Aqu\u00ed es mostren serveis que utilitzen biblioteques desactualitzades i que necessiten reiniciar-se. Entre ells hi ha cups, dbus, rsyslog, i systemd-resolved. Es pot seleccionar quins serveis reiniciar per garantir que funcionin amb les versions m\u00e9s recents i segures de les biblioteques. </p> <p>Instal\u00b7lem ClamAV, un antivirus de codi obert, juntament amb el seu dimoni per a escaneig en temps real. La instal\u00b7laci\u00f3 inclou eines com clamav-freshclam per a actualitzacions de bases de dades. Es descarreguen 1.502 kB i s'utilitzen 5.147 kB d'espai addicional per a protegir el sistema contra malware. </p> <p>Aqu\u00ed s'executa l'antivirus ClamAV per escanejar de manera recursiva (-r) el directori /home/client, revisant tots els fitxers i subdirectoris en busca de malware o amenaces. Aquesta ordre \u00e9s \u00fatil per assegurar que els fitxers d'un usuari espec\u00edfic estan nets i lliures de virus. </p> <p>L'escaneig amb ClamAV ha revisat 225 directoris i 239 fitxers, sense trobar fitxers infectats. S'han escanejat 6,25 MB de dades amb un temps total de 27 segons. El sistema est\u00e0 net de virus, i l'escaneig va des de les 10:36:34 fins a les 10:37:02 del 15/03/2025. </p> <p>Aqu\u00ed procedim a instal\u00b7lar Squid, un servidor proxy que millora el rendiment i la seguretat de la navegaci\u00f3 web. La instal\u00b7laci\u00f3 inclou paquets com squid-common i squid-langpack per a funcionalitats addicionals. </p> <p>Mostrem el contingut del fitxer /etc/modprobe.d/blacklist.conf, on es desactiven m\u00f2duls del nucli com usb_storage, firewire-core, i altres com snd_pcsp i amd76x_edac. Aquestes entrades ajuden a evitar conflictes i millorar l'estabilitat del sistema. </p> <p>Executem apt update per actualitzar la llista de paquets disponibles i apt upgrade per instal\u00b7lar les versions m\u00e9s recents dels paquets al sistema. Aquest proc\u00e9s \u00e9s clau per mantenir el sistema segur, estable i actualitzat amb les \u00faltimes correccions de seguretat i millores. </p> <p>Mostrem el fitxer /etc/fail2ban/jail.local, on s'ha habilitat la protecci\u00f3 de Fail2ban per al servei SSH (enabled = true). Aquesta configuraci\u00f3 bloqueja adreces IP despr\u00e9s de m\u00faltiples intents fallits d'inici de sessi\u00f3, refor\u00e7ant la seguretat del servidor contra acc\u00e9s no autoritzat. </p> <p>Aqu\u00ed s'utilitza l'eina grub-mkpasswd-pbkdf2 per generar un hash de contrasenya per a protegir el gestor d'arrencada GRUB. Aix\u00f2 impedeix l'acc\u00e9s no autoritzat a les opcions d'arrencada, com ara l'arrencada en mode monousuari sense contrasenya. Es demana introduir la contrasenya dues vegades per verificar-la i generar el hash corresponent. </p> <p>Aqu\u00ed es configuren regles b\u00e0siques de iptables per a gestionar el tr\u00e0nsit de xarxa. Primer, es bloqueja tot el tr\u00e0nsit entrant (-P INPUT DROP). Despr\u00e9s, es permet l'acc\u00e9s als ports 22 (SSH), 80 (HTTP) i 443 (HTTPS) mitjan\u00e7ant les regles ACCEPT. Aix\u00f2 assegura que nom\u00e9s es permeti tr\u00e0nsit als serveis essencials, millorant la seguretat del sistema. </p> <p>Finalment, tornem a visualitzar el resum de l'escaneig de seguretat amb Lynis. L'\u00edndex de hardening ha augmentat a 69, indicant una millora en la seguretat del sistema. S'han realitzat 263 proves, amb components com el tallafocs i l'escaneig de malware marcats com a actius. L'escaneig es va executar en mode normal, i els fitxers de registre i informe es troben a /var/log/Lynts.log i /var/log/Lynts-report.dat. Aquest resultat mostra un progr\u00e9s significatiu en l'enduriment del sistema. </p>"},{"location":"Sprint_5/Automatizacio_Tasques/","title":"Automatitzaci\u00f3 de Tasques amb Cron i Anacron a Linux","text":""},{"location":"Sprint_5/Automatizacio_Tasques/#1-automatitzacio-de-tasques-a-linux","title":"1. Automatitzaci\u00f3 de Tasques a Linux","text":"<p>En entorns Linux, l'automatitzaci\u00f3 de tasques \u00e9s essencial per executar processos de manera programada sense intervenci\u00f3 manual. Aix\u00f2 permet: - Estalviar temps en tasques repetitives - Millorar l'efici\u00e8ncia del sistema amb tasques en segon pla - Garantir l'execuci\u00f3 puntual de processos cr\u00edtics (com c\u00f2pies de seguretat, actualitzacions o neteja del sistema)</p> <p>Els dos sistemes principals per a l'automatitzaci\u00f3 s\u00f3n: - Cron: Ideal per a sistemes que estan sempre engegats (servidors) - Anacron: Dissenyat per a sistemes que no funcionen cont\u00ednuament (ordinadors personals o port\u00e0tils)</p>"},{"location":"Sprint_5/Automatizacio_Tasques/#2-cron-el-planificador-de-tasques-classic","title":"2. Cron: El Planificador de Tasques Cl\u00e0ssic","text":"<p>Cron \u00e9s un dimoni (daemon) que executa tasques en horaris espec\u00edfics basats en una configuraci\u00f3 anomenada crontab.</p>"},{"location":"Sprint_5/Automatizacio_Tasques/#caracteristiques-principals","title":"Caracter\u00edstiques principals","text":"<p>\u2714 Execuci\u00f3 exacta en temps real: Si el sistema est\u00e0 apagat, la tasca no s'executa \u2714 Configuraci\u00f3 per usuari: Cada usuari pot tenir el seu propi crontab \u2714 Precisi\u00f3 en minuts: Permet programar tasques amb intervals molt espec\u00edfics  </p>"},{"location":"Sprint_5/Automatizacio_Tasques/#3-anacron-cron-per-a-sistemes-no-continus","title":"3. Anacron: Cron per a Sistemes No Continus","text":""},{"location":"Sprint_5/Automatizacio_Tasques/#31-concepte-basic","title":"3.1. Concepte B\u00e0sic","text":"<p>Anacron \u00e9s un servei d'automatitzaci\u00f3 dissenyat espec\u00edficament per a sistemes que no estan engegats cont\u00ednuament, com: - Ordinadors personals - Port\u00e0tils - Estacions de treball d'\u00fas intermitent</p>"},{"location":"Sprint_5/Automatizacio_Tasques/#32-principals-diferencies-amb-cron","title":"3.2. Principals Difer\u00e8ncies amb Cron","text":"Caracter\u00edstica Anacron Cron Depend\u00e8ncia temporal No requereix hora exacta Execuci\u00f3 a hora precisa Toler\u00e0ncia a apagats Executa tasques pendents Salta tasques no executades Unitats temporals Treballa amb dies Treballa amb minuts/hores/dies Entorn ideal Sistemes no permanents Servidors 24/7"},{"location":"Sprint_5/Automatizacio_Tasques/#33-com-funciona-anacron","title":"3.3. Com Funciona Anacron?","text":"<ol> <li>Mecanisme d'execuci\u00f3:</li> <li>Verifica les tasques pendents en l'inici del sistema</li> <li>Compara les dates dels darrers execucions</li> <li> <p>Executa les tasques que hagin superat el per\u00edode definit</p> </li> <li> <p>Gesti\u00f3 de retards:</p> </li> <li>Introdueix un retard aleatori per evitar c\u00e0rregues simult\u00e0nies</li> <li>Configurable per cada tasca</li> </ol>"},{"location":"Sprint_5/Automatizacio_Tasques/#configuracions","title":"Configuracions","text":"<p>Per aquest exemple, crearem dos fitxers dins del directori /home/Im\u00e1genes per verificar que l'script funciona correctament.</p> <p>Aqui crearem un script per automatitzar c\u00f2pies de seguretat. S'hi pot veure la creaci\u00f3 d'un arxiu comprimit amb tar que inclou la data i hora al nom del fitxer, indicant una tasca programada per preservar dades del directori d'imatges. La imatge reflecteix una fase inicial de configuraci\u00f3, on s'est\u00e0 provant la generaci\u00f3 de backups des de la l\u00ednia de comandes </p> <p>Assignem permisos d'execuci\u00f3 al script amb la comanda chmod +x. </p> <p>Aqui l'executem. </p>"},{"location":"Sprint_5/Automatizacio_Tasques/#automatitzacio-del-script-amb-crontab","title":"Automatitzaci\u00f3 del Script amb crontab","text":"<p>Editem el fitxer /etc/crontab i afegim la linia de baix de tot. La captura mostra l'edici\u00f3 del fitxer de configuraci\u00f3 /etc/crontab utilitzant l'editor GNU nano, on es defineixen tasques programades a nivell de sistema en entorns Linux. S'hi visualitzen les estructures b\u00e0siques per configurar cron-jobs, incloent els camps per minuts, hores, dies i mesos, juntament amb exemples de tasques automatitzades predefinides. Es destaquen les entrades per executar scripts peri\u00f2dics (diaris, setmanals i mensuals) mitjan\u00e7ant els directoris cron.daily, cron.weekly i cron.monthly. </p> <p>Finalment, esperem uns minuts i podem observar que s'ha realitzat la copia dels arxius.  </p>"},{"location":"Sprint_5/Automatizacio_Tasques/#automatitzacio-del-script-amb-anacron","title":"Automatitzaci\u00f3 del Script amb Anacron","text":"<p>Aqui mourem el script al directori cron.daily i el copiarem. </p> <p>Entrem al fitxer Cron.daily i eliminem tot el contingut. </p> <p>Ara editarem el fitxer /etc/anacrontab i modificarem el valor 1 per a que s'executi despres d'iniciar l'equip. </p> <p>Amb aix\u00f2, Anacron s'encarregar\u00e0 d'executar l'script di\u00e0riament quan l'ordinador estigui en funcionament. Reiniciem l'ordinador, esperem un minut i verifiquem que el proc\u00e9s s'ha executat correctament. </p>"},{"location":"Sprint_5/Copies_Seguretat/","title":"C\u00f2pies de Seguretat en Entorns Linux","text":""},{"location":"Sprint_5/Copies_Seguretat/#1-context-i-importancia","title":"1. Context i Import\u00e0ncia","text":"<p>En entorns Linux, les c\u00f2pies de seguretat constitueixen el darrer escut contra:</p> <ul> <li>P\u00e8rdua de dades per fallades de maquinari</li> <li>Errors humans (esborrats accidentals)</li> <li>Atacs de ransomware o malware</li> <li>Cat\u00e0strofes f\u00edsiques (foc, inundacions)</li> </ul>"},{"location":"Sprint_5/Copies_Seguretat/#2-tipus-de-copies-de-seguretat","title":"2. Tipus de C\u00f2pies de Seguretat","text":""},{"location":"Sprint_5/Copies_Seguretat/#21-segons-labast","title":"2.1 Segons l'Abast","text":"Tipus Caracter\u00edstiques \u00das Ideal Completa Copia tots els fitxers Setmanal/Mensual Incremental Nom\u00e9s canvis des de l'\u00faltim backup Di\u00e0ria Diferencial Canvis des de l'\u00faltima completa Punt de recuperaci\u00f3 r\u00e0pid"},{"location":"Sprint_5/Copies_Seguretat/#22-segons-la-localitzacio","title":"2.2 Segons la Localitzaci\u00f3","text":"<ul> <li>Locals: Discs externs, NAS</li> <li>En n\u00favol: AWS S3, Google Drive, Nextcloud</li> <li>H\u00edbrides: Combinaci\u00f3 local + n\u00favol</li> </ul>"},{"location":"Sprint_5/Copies_Seguretat/#copies-de-seguretat-en-linux-cp-rsync-i-dd","title":"C\u00f2pies de Seguretat en Linux: CP, Rsync i DD","text":"<p>En entorns Linux, disposem de m\u00faltiples eines per a realitzar c\u00f2pies de seguretat, cadascuna amb els seus avantatges i casos d'\u00fas espec\u00edfics:</p> Eina Millor per Nivell Velocitat Complexitat <code>cp</code> C\u00f2pies simples i r\u00e0pides Fitxers \u26a1 R\u00e0pid Baixa <code>rsync</code> Sincronitzaci\u00f3 avan\u00e7ada Fitxers \ud83c\udfce\ufe0f R\u00e0pid Mitjana <code>dd</code> Clonaci\u00f3 exacta de dispositius Bloc/Dispositiu \ud83d\udc22 Lent Alta"},{"location":"Sprint_5/Copies_Seguretat/#copies-de-seguretat-en-linux-cp","title":"C\u00f2pies de Seguretat en Linux: CP","text":"<p>Primer que tot crearem un directori i un fitxer per realitzar la prova. </p> <p>Despres utilitzem la comanda \"cp -R\" per copiar el directori i fitxer al directori /var/backups i finlament realitzem un ls per comprovar els resultats. </p>"},{"location":"Sprint_5/Copies_Seguretat/#copies-de-seguretat-en-linux-rsync","title":"C\u00f2pies de Seguretat en Linux: Rsync","text":"<p>Aqui crearem un altre cop un fitxer i un directori per realitzar la copia. </p> <p>Aquesta comanda \"rsync -av --delete\" ens permet sincronitzar tot el contingut del directori adeu amb el fitxer que hem creat de prova i el directori prova tambe sincornitzats al mateix temps i abans que tot realitza una neteja del directori on realitzara el volcat de la sincronitzaci\u00f3. </p> <p>Aqui podem observar els resultats de l'execuci\u00f3 de la comanda anterior amb els mateixos fitxers sincronitzats correctament. </p> <p>Pero seguim tenin el mateix contingut en el directori origen. </p>"},{"location":"Sprint_5/Copies_Seguretat/#copies-de-seguretat-en-linux-dd","title":"C\u00f2pies de Seguretat en Linux: DD","text":"<p>Aquesta eina no \u00e9s espec\u00edficament per a c\u00f2pies de seguretat, sin\u00f3 per a clonaci\u00f3 de discos i particions a nivell de blocs. Tamb\u00e9 es pot utilitzar per sobreescriure blocs o particions abans de formatar.</p> <p>Principalment afegirem 2 discs el cual clonarem. </p> <p>Aqui el localitzem el 1r com a /dev/sdb. </p> <p>Aqui el localitzem el 2n com a /dev/sdb. </p> <p>Aqui executem l'ordre dd per copiar el contingut de la partici\u00f3 /dev/sdb1 (dispositiu origen) a /dev/sdc1 (dispositiu dest\u00ed), especificant una mida de bloc (bs) de 4 MB. Durant l'execuci\u00f3, el sistema mostra el progr\u00e9s de la c\u00f2pia: primer s'indica que es copien 306 MB a una velocitat de 302 MB/s, i posteriorment es registren 523 MB copiats a 273 MB/s. Aquesta acci\u00f3 permet duplicar dades entre dispositius. </p> <p>Finalment comprovem l'estat del l'atre disc i veiem que els dos ja composen el mateix nom. </p> <p>I per ultim comprovem l'integritat dels discs amb la comanda md5sum i aixi observem la igualtat dels hash.</p> <p></p>"},{"location":"Sprint_5/Monitoratge_Logs/","title":"Monitoratge i Logs","text":"<p>El monitoratge i els logs s\u00f3n dues eines fonamentals en l'administraci\u00f3 de sistemes i xarxes. Ambdues tenen com a objectiu principal garantir el correcte funcionament dels sistemes, per\u00f2 es complementen per a oferir una visi\u00f3 completa de l'estat i el comportament dels sistemes.</p>"},{"location":"Sprint_5/Monitoratge_Logs/#monitoratge","title":"Monitoratge","text":""},{"location":"Sprint_5/Monitoratge_Logs/#que-es-el-monitoratge","title":"Qu\u00e8 \u00e9s el Monitoratge?","text":"<p>El monitoratge \u00e9s el proc\u00e9s de supervisar en temps real l'estat i el rendiment d'un sistema, xarxa o aplicaci\u00f3. Aix\u00f2 inclou el seguiment de m\u00e8triques com l'\u00fas de CPU, mem\u00f2ria, disc, xarxa, estat dels serveis, i m\u00e9s.</p>"},{"location":"Sprint_5/Monitoratge_Logs/#per-a-que-serveix-el-monitoratge","title":"Per a qu\u00e8 serveix el Monitoratge?","text":"<ol> <li>Detectar problemes: Permet identificar errors o anomalies en temps real, com ara pics d'\u00fas de CPU, manca de mem\u00f2ria o caigudes de serveis.</li> <li>Optimitzaci\u00f3 de recursos: Ajuda a entendre com es distribueixen els recursos i on es poden fer millores per a optimitzar el rendiment.</li> <li>Prevenci\u00f3 d'incid\u00e8ncies: Amb alertes configurades, es pot actuar abans que un problema menor es converteixi en una fallada cr\u00edtica.</li> <li>Planificaci\u00f3 de capacitat: Permet preveure quan ser\u00e0 necessari ampliar recursos (com mem\u00f2ria o emmagatzematge) per a evitar problemes de rendiment.</li> <li>Auditoria i compliment: En entorns regulats, el monitoratge ajuda a garantir el compliment de normatives i est\u00e0ndards de seguretat.</li> </ol>"},{"location":"Sprint_5/Monitoratge_Logs/#eines-de-monitoratge","title":"Eines de Monitoratge","text":"<ul> <li>Nagios: Supervisa l'estat de servidors, xarxes i aplicacions.</li> <li>Prometheus + Grafana: Recull m\u00e8triques i les visualitza en panells gr\u00e0fics.</li> <li>Zabbix: Eina completa per a monitoratge de xarxes, servidors i aplicacions.</li> <li>htop/Glances: Eines de l\u00ednia de comandes per a monitorar recursos en temps real.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#logs","title":"Logs","text":""},{"location":"Sprint_5/Monitoratge_Logs/#que-son-els-logs","title":"Qu\u00e8 s\u00f3n els Logs?","text":"<p>Els logs s\u00f3n registres que capturen esdeveniments i activitats que ocorren en un sistema, aplicaci\u00f3 o dispositiu de xarxa. Aquests registres contenen informaci\u00f3 detallada sobre accions, errors, advert\u00e8ncies i altres esdeveniments rellevants.</p>"},{"location":"Sprint_5/Monitoratge_Logs/#per-a-que-serveixen-els-logs","title":"Per a qu\u00e8 serveixen els Logs?","text":"<ol> <li>Depuraci\u00f3 d'errors: Els logs permeten als administradors identificar i solucionar problemes en el sistema o aplicacions.</li> <li>Auditoria i seguretat: Els logs registren accions d'usuaris i processos, cosa que \u00e9s essencial per a detectar activitats sospitoses o no autoritzades.</li> <li>An\u00e0lisi de rendiment: Els logs poden contenir informaci\u00f3 sobre el rendiment del sistema, com ara temps de resposta o \u00fas de recursos.</li> <li>Compliment normatiu: En molts sectors, \u00e9s obligatori mantenir registres detallats de les activitats del sistema per a complir amb regulacions com GDPR, HIPAA, etc.</li> <li>Reconstrucci\u00f3 d'esdeveniments: En cas d'incid\u00e8ncies, els logs permeten reconstruir qu\u00e8 va passar i quins passos es van seguir.</li> </ol>"},{"location":"Sprint_5/Monitoratge_Logs/#eines-de-gestio-de-logs","title":"Eines de Gesti\u00f3 de Logs","text":"<ul> <li>rsyslog: Servei per a gestionar i centralitzar logs en sistemes Linux.</li> <li>ELK Stack (Elasticsearch, Logstash, Kibana): Eina avan\u00e7ada per a recollir, processar i visualitzar logs.</li> <li>journalctl: Eina per a visualitzar logs en sistemes que utilitzen <code>systemd</code>.</li> <li>Splunk: Eina comercial per a la gesti\u00f3 i an\u00e0lisi de logs.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#diferencies-entre-monitoratge-i-logs","title":"Difer\u00e8ncies entre Monitoratge i Logs","text":"Aspecte Monitoratge Logs Objectiu principal Supervisar en temps real. Registrar esdeveniments passats. Temps Temps real (o quasi real). Hist\u00f2ric (esdeveniments ja ocorreguts). \u00das principal Detecci\u00f3 r\u00e0pida de problemes. An\u00e0lisi i investigaci\u00f3 d'incid\u00e8ncies. Eines comunes Nagios, Prometheus, Zabbix. rsyslog, ELK Stack, Splunk."},{"location":"Sprint_5/Monitoratge_Logs/#com-es-complementen-el-monitoratge-i-els-logs","title":"Com es Complementen el Monitoratge i els Logs?","text":"<p>El monitoratge i els logs s\u00f3n dues cares de la mateixa moneda:</p> <ol> <li>Monitoratge: Proporciona una visi\u00f3 en temps real de l'estat del sistema. Permet detectar problemes de manera immediata i prendre decisions r\u00e0pides.</li> <li>Logs: Proporcionen una visi\u00f3 hist\u00f2rica dels esdeveniments. S\u00f3n essencials per a entendre qu\u00e8 va passar, per qu\u00e8 va passar i com es pot evitar en el futur.</li> </ol>"},{"location":"Sprint_5/Monitoratge_Logs/#directori-varlog","title":"Directori <code>/var/log</code>","text":"<p>El directori <code>/var/log</code> \u00e9s un directori est\u00e0ndard en molts sistemes operatius basats en Unix que cont\u00e9 registres (logs) de diversos components del sistema. Aquests logs s\u00f3n essencials per a auditar, depurar problemes i entendre el comportament del sistema.</p>"},{"location":"Sprint_5/Monitoratge_Logs/#logs-mes-comuns-a-varlog","title":"Logs m\u00e9s comuns a <code>/var/log</code>","text":"<p>A continuaci\u00f3 es descriuen alguns dels logs m\u00e9s importants que es poden trobar en aquest directori:</p>"},{"location":"Sprint_5/Monitoratge_Logs/#1-varlogsyslog","title":"1. /var/log/syslog","text":"<ul> <li>Descripci\u00f3: Cont\u00e9 informaci\u00f3 detallada sobre els missatges del sistema i les activitats dels processos en el sistema operatiu.</li> <li>\u00das: \u00c9s \u00fatil per a auditar l'activitat general del sistema i detectar problemes en els processos.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#2-varlogauthlog","title":"2. /var/log/auth.log","text":"<ul> <li>Descripci\u00f3: Registra les activitats d'autenticaci\u00f3 del sistema, com ara l'inici de sessi\u00f3 i les accions dels usuaris.</li> <li>\u00das: \u00c9s essencial per a auditar l'acc\u00e9s al sistema i detectar intents d'inici de sessi\u00f3 no autoritzats.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#3-varlogkernlog","title":"3. /var/log/kern.log","text":"<ul> <li>Descripci\u00f3: Registra els missatges del nucli del sistema operatiu i les activitats dels dispositius de hardware.</li> <li>\u00das: \u00c9s \u00fatil per a diagnosticar problemes relacionats amb el nucli (kernel) i el hardware.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#4-varlogdmesg","title":"4. /var/log/dmesg","text":"<ul> <li>Descripci\u00f3: Proporciona informaci\u00f3 detallada sobre l'arrencada del sistema operatiu i les activitats del nucli del sistema.</li> <li>\u00das: \u00c9s \u00fatil per a revisar els missatges del nucli durant l'arrencada del sistema.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#5-varlogmaillog","title":"5. /var/log/mail.log","text":"<ul> <li>Descripci\u00f3: Cont\u00e9 informaci\u00f3 sobre el correu electr\u00f2nic enviat i rebut pel sistema.</li> <li>\u00das: \u00c9s \u00fatil per a auditar i solucionar problemes relacionats amb el servei de correu electr\u00f2nic.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#6-varlogmysqllog","title":"6. /var/log/mysql.log","text":"<ul> <li>Descripci\u00f3: Registra les activitats del servidor de bases de dades MySQL.</li> <li>\u00das: \u00c9s essencial per a auditar i solucionar problemes relacionats amb la base de dades MySQL.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#7-varlogapache2accesslog","title":"7. /var/log/apache2/access.log","text":"<ul> <li>Descripci\u00f3: Registra les sol\u00b7licituds HTTP rebudes pel servidor web Apache.</li> <li>\u00das: \u00c9s \u00fatil per a auditar l'acc\u00e9s al servidor web i analitzar el tr\u00e0nsit.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#8-varlogapache2errorlog","title":"8. /var/log/apache2/error.log","text":"<ul> <li>Descripci\u00f3: Registra els errors i missatges de diagn\u00f2stic del servidor web Apache.</li> <li>\u00das: \u00c9s essencial per a solucionar problemes relacionats amb el servidor web.</li> </ul>"},{"location":"Sprint_5/Monitoratge_Logs/#altres-logs-importants","title":"Altres logs importants","text":"<p>A m\u00e9s dels logs esmentats, el directori <code>/var/log</code> pot contenir altres arxius de registre, com ara:</p> <ul> <li>Registres de seguretat: Com ara <code>/var/log/secure</code> (en alguns sistemes), que registra activitats relacionades amb la seguretat del sistema.</li> <li>Registres del sistema de fitxers: Com ara <code>/var/log/fsck</code>, que registra informaci\u00f3 sobre la comprovaci\u00f3 i reparaci\u00f3 del sistema de fitxers.</li> <li>Registres del servidor de correu electr\u00f2nic: Com ara <code>/var/log/mail.err</code>, que registra errors relacionats amb el servei de correu.</li> <li>Registres del servidor DNS: Com ara <code>/var/log/named.log</code>, que registra les activitats del servidor DNS (BIND).</li> <li>Registres d'altres aplicacions: Moltes aplicacions instal\u00b7lades en el sistema poden crear els seus propis logs a <code>/var/log</code>.</li> </ul> <p></p> <p>Aquest fitxer \u00e9s un exemple de configuraci\u00f3 de <code>logrotate</code>, una eina utilitzada per a gestionar la rotaci\u00f3 de logs en sistemes Unix. La configuraci\u00f3 estableix que: Els logs es rotaran setmanalment <code>weekly</code>.Es conservaran 4 c\u00f2pies antigues <code>rotate 4</code>.Es crear\u00e0 un nou fitxer de log buit despr\u00e9s de cada rotaci\u00f3 <code>create</code>.S'utilitzar\u00e0 el grup <code>adm</code> per als fitxers de log. S'inclouen configuracions addicionals des del directori <code>/etc/logrotate.d</code> </p> <p>Si es vol configurar algun rotaci\u00f3 en concret i especifica, aquest directori ens permetria personalitzar regles de rotaci\u00f3 per serveis concrets. </p> <p>Per exemple podem observar que el servei RSyslog esta programat per una rotacio de logs de cada 4 dies. </p>"},{"location":"Sprint_5/Monitoratge_Logs/#analizi-dels-logs","title":"Analizi dels logs","text":"<p>En aquest apartat mostrem com analitzar els logs d'una manera eficient i ordenada pero poder tenir en control tots els esdeveniments que es causin en el sistema. Utilizarem una eina molt potenta que es diu journactl, pero tambe existeixen Rsyslog, logAnalizer etc, en aquest cas executem aquesta comanda que ens permetra veure tots els logs filtrar per l'horari, jo he posat de 12:30 a 13:00 i he obtingut el seguent: </p> <p>Aqui executem aquest comanda per poder obtindre informaci\u00f3 directament d'un servei, en aquest cas ho realitzem del servei Apache2 i podem observar el seu estat en directe i mes a baix un registre de logs sobre el funcionament de la mateixa. </p> <p>Aqui en aquesta comanda obtenim logs sobre el disc principal o qualsevol que es vulgui analitzar. </p>"},{"location":"Sprint_5/Monitoratge_Logs/#personalitzacio-dels-logs","title":"Personalitzaci\u00f3 dels Logs","text":"<p>En aquest apartat realitzarem una petita configuraci\u00f3 sobre els nostres Logs per poder identificar millor el objectiu i poder personalitzar al nostre gust. En aquesta primera comanda executarem un sudo nano del fitxer /etc/rsyslog.d/50-default.conf per poder establir nova destinacio de logs, com filtres per prioritat de alerta i assignacions a altres logs. Per realitzar una simulaci\u00f3 establim una configuraci\u00f3 de logs del mail amb un nivell d'alerta i un altre de nivell d'error enmagatzemant els dos tipus de logs un al mail.log i l'altre al mail.err, ja que els logs es categorian per prioritat d'alerta. </p> <p>Un cop tenim el fitxer desat, reiniciem el servei RSyslog i realitzem un tail -s per veure el comportament. </p> <p>Amb aquesta comanda logger, el que realitzem es un error de mail per poder comprovar que ho estem desant on toca i generem el log. </p> <p>Si tot funciona correctament haurem de realitzar un cat del fitxer on el qual es desa els logs de mail i podem observar que obtenim un log del qual habiem generat anteriorment. </p> <p>Aqui tambe si ho hem realitzat correctament, ens mostrara un log de alerta al mail.alert. </p> <p>Aqui ho analitzem directament als logs generics del RSyslog i veiem que tambe s'ens ha generate. </p> <p>I aqui el mateix. </p> <p>I aqui ho realitzem amb l'eina journalctl. </p>"},{"location":"Sprint_5/Monitoratge_Logs/#servidor-centralitzat-de-logs","title":"Servidor Centralitzat de Logs","text":"<p>En aquest apartat, t'explicarem com configurar i utilitzar un sistema de monitoritzaci\u00f3 centralitzada de logs amb Grafana, Loki i Promtail. Aprendrem a implementar aquestes eines per recollir, emmagatzemar i visualitzar logs de manera eficient, creant una soluci\u00f3 completa per a la gesti\u00f3 i an\u00e0lisi de dades en temps real.</p>"},{"location":"Sprint_5/Monitoratge_Logs/#grafana-servidor","title":"Grafana (Servidor)","text":"<p>Per instal\u00b7lar el grafana realitzarem aquesta comanda seguent. </p> <p>Despres afegirem el repositori de Grafana. </p> <p>Afegirem la clau GPG per la verificacio dels paquets. </p> <p>Instal\u00b7lem Grafana pero abans actualitzem repositoris. </p> <p>Habilitem el servei Grafana-server </p> <p>Comprovem l'estat del servei. </p> <p>Un cop descarregat accedim per la ip del servidor i al port 3000 </p>"},{"location":"Sprint_5/Monitoratge_Logs/#loki-servidor","title":"Loki (Servidor)","text":"<p>En aquesta captura mostrem la ip que te el servidor perque despres la necessitarem. </p> <p>Aqui ens descarregarem el servei Loki. </p> <p>El descomprimirem amb la comanda unzip. </p> <p>Aqui mourem el servei al direcotri /usr/local/bin/loki i l'hi asignarem permisos d'execuci\u00f3. </p> <p>Crearem un fitxer de configuraci\u00f3 .yaml al directori /etc/ amb el nom loki-config.yaml </p> <p>Crearem el fitxer loki.service dins del directori systemd amb els mateixos parametres que observem a la captura per a que s'executi com a servei. </p> <p>Aqui crearem el directori necessari per el seu funcionament i amb els permisos adients. </p> <p>Finalment haurem reinciar els serveis de dimonis i habilitar el servei loki </p> <p>I comprovem amb un status i podem observar que esta operatiu. </p>"},{"location":"Sprint_5/Monitoratge_Logs/#promtail-client","title":"Promtail (Client)","text":"<p>En aquest apartat instal\u00b7larem al client el qual rebrem els seus logs al servidor, un servei que ens permetr\u00e0 recol\u00b7lectar tots els logs del sistema i enviarlos al servidor.</p> <p>En aquesta captura inst\u00b7lem l'eina Promtail a la seva darrera versi\u00f3. </p> <p>Descrompimim amb l'unzip i procedim a moure'l de directori al /usr/local/bin/promtail i l'hi assignem permisos d'execuci\u00f3. </p> <p>Aqui crearem el fitxer de configuracio .yaml de l'eina Promtail per definir els logs a recollir i per ubicar el servidor on enviar\u00e0 els mateixos. </p> <p>Crearem el directori de l'eina. </p> <p>I crearem el fitxer promtail.service al directori sysmtemd per executar-l'ho com a servei. </p> <p>Aplicarem configuracio i habilitarem el servei. </p> <p>I finalment mostrarem l'estat del servei Promtail. </p>"},{"location":"Sprint_5/Monitoratge_Logs/#anallisi-logs-servidor","title":"Anal\u00b7lisi Logs (Servidor)","text":"<p>Un cop arribat aqui, ja tindrem tot el necessari per analitzar els logs via Grafana, la qual cosa vos mostrarem com crear una consulta per interficie grafica i poder analitzar els logs enviats del client al servidor.</p> <p>Accedirem al servidor i a l'eina grafana i ens loggejarem com a admin admin. </p> <p>Aqui ens demanara cambiar el password. </p> <p>Aqui establirem una query de tipus Loki (consulta de logs) a l'apartat Explorer. </p> <p>Aqui filtarem per la query i l'hi donarem a RUN. </p> <p>I finalment si tot surt be ens ha de puger filtrar logs del client en aquest cas Pellisa amb el servei Promtail que ens esta reenviant tots el logs al servidor. </p> <p>I aqui ho mostro en format de barres els logs de l'acces i la configuracio del client cuan instal\u00b7lavem l'agent Promtail. </p>"},{"location":"Sprint_5/Quotes_usuaris_grups/","title":"Quotes de Disc en Linux","text":""},{"location":"Sprint_5/Quotes_usuaris_grups/#1-concepte-de-quotes-de-disc","title":"1. Concepte de Quotes de Disc","text":"<p>Les quotes de disc s\u00f3n un mecanisme dels sistemes operatius Linux per: - Controlar i limitar l'\u00fas dels recursos d'emmagatzematge - Gestionar l'espai en disc i nombre de fitxers per usuari/grup</p>"},{"location":"Sprint_5/Quotes_usuaris_grups/#2-finalitat-de-les-quotes","title":"2. Finalitat de les Quotes","text":"<ul> <li>Prevenir l'\u00fas abusiu de recursos per part d'usuaris individuals</li> <li>Garantir distribuci\u00f3 equitativa de l'espai disponible</li> <li>Evitar l'esgotament accidental del disc per part d'un usuari</li> <li>Millorar l'administraci\u00f3 dels recursos compartits</li> </ul>"},{"location":"Sprint_5/Quotes_usuaris_grups/#3-tipus-de-quotes","title":"3. Tipus de Quotes","text":""},{"location":"Sprint_5/Quotes_usuaris_grups/#31-quotes-dus-de-disc-block-quotas","title":"3.1. Quotes d'\u00fas de disc (block quotas)","text":"<ul> <li>Limiten la quantitat d'espai en disc (mesurat en blocs)</li> <li>Mida t\u00edpica de bloc: 1KB o 4KB</li> </ul>"},{"location":"Sprint_5/Quotes_usuaris_grups/#32-quotes-dinodes","title":"3.2. Quotes d'inodes","text":"<ul> <li>Limiten el nombre de fitxers/directoris</li> <li>Cada element del sistema de fitxers ocupa 1 inode</li> </ul>"},{"location":"Sprint_5/Quotes_usuaris_grups/#4-nivells-de-limitacio","title":"4. Nivells de Limitaci\u00f3","text":"Tipus de L\u00edmit Descripci\u00f3 Comportament Quota Tova (soft limit) L\u00edmit temporal Permet superar-lo durant per\u00edode de gr\u00e0cia Quota Dura (hard limit) L\u00edmit absolut No es pot superar en cap cas Per\u00edode de Gr\u00e0cia Temps perm\u00e8s sobre quota tova Normalment 7 dies per defecte"},{"location":"Sprint_5/Quotes_usuaris_grups/#5-components-del-sistema-de-quotes","title":"5. Components del Sistema de Quotes","text":""},{"location":"Sprint_5/Quotes_usuaris_grups/#51-elements-del-nucli","title":"5.1. Elements del Nucli","text":"<ul> <li>Subsystem de quotes al nucli Linux</li> <li>Suport per a diferents sistemes de fitxers</li> </ul>"},{"location":"Sprint_5/Quotes_usuaris_grups/#52-fitxers-de-quotes","title":"5.2. Fitxers de Quotes","text":"<ul> <li><code>aquota.user</code> (per usuaris)</li> <li><code>aquota.group</code> (per grups)</li> </ul>"},{"location":"Sprint_5/Quotes_usuaris_grups/#53-eines-dadministracio","title":"5.3. Eines d'Administraci\u00f3","text":"<ul> <li><code>quotacheck</code>: Verifica i crea fitxers de quotes</li> <li><code>quotaon/quotaoff</code>: Activa/desactiva quotes</li> <li><code>edquota</code>: Edita quotes d'usuaris/grups</li> <li><code>repquota</code>: Mostra informaci\u00f3 de quotes</li> </ul>"},{"location":"Sprint_5/Quotes_usuaris_grups/#6-sistemes-de-fitxers-compatibles","title":"6. Sistemes de Fitxers Compatibles","text":"<ul> <li>ext3/ext4 (m\u00e9s comuns en Linux)</li> <li>XFS</li> <li>JFS</li> <li>ReiserFS</li> </ul>"},{"location":"Sprint_5/Quotes_usuaris_grups/#7-flux-de-funcionament","title":"7. Flux de Funcionament","text":"<ol> <li>Administrador configura quotes al sistema de fitxers</li> <li>El nucli monitoritza l'\u00fas del disc</li> <li>Quan s'acosta als l\u00edmits:</li> <li>Notifica a l'usuari</li> <li>Aplica restriccions segons configuraci\u00f3</li> <li>Eines d'administraci\u00f3 permeten monitorar i ajustar</li> </ol>"},{"location":"Sprint_5/Quotes_usuaris_grups/#8-avantatges-del-sistema-de-quotes","title":"8. Avantatges del Sistema de Quotes","text":"<p>\u2705 Distribuci\u00f3 controlada de recursos \u2705 Prevenci\u00f3 d'incid\u00e8ncies per disc ple \u2705 Millor administraci\u00f3 en entorns multiusuari \u2705 Configuraci\u00f3 granular per usuari/grup  </p>"},{"location":"Sprint_5/Quotes_usuaris_grups/#9-limitacions","title":"9. Limitacions","text":"<p>\u274c Requeriment de suport del sistema de fitxers \u274c Configuraci\u00f3 inicial complexa \u274c Pot afectar rendiment en sistemes grans \u274c No gestiona quotes per projecte (sense configuracions addicionals)</p>"},{"location":"Sprint_5/Quotes_usuaris_grups/#aplicacio-i-configuracio","title":"Aplicaci\u00f3 i Configuraci\u00f3","text":"<p>En aquest apartat configurarem les quotes de disc a usuaris i grups del sistema.</p> <p>Primer que instal\u00b7larem quota amb la seg\u00fcent comanda: </p> <p>Aqui crearem un particio /dev/sdb1 i despres ho montarem a la mnt/dades_pellisa. </p> <p>Una vegada hem realitzat la preparacio del disc, procedim a comprovar els fitxers de quota, tan mateix aquestes comandes ens verificaran l'existencia del mateix. </p>"},{"location":"Sprint_5/Quotes_usuaris_grups/#quota-usuaris","title":"Quota Usuaris","text":"<p>Aqui assignarem la quota a l'usuari mitjan\u00e7ant aquesta comanda i poden editar manualment la quota. </p> <p>I podem establir els limits Soft i Hard manualment. </p> <p>Aquesta es una altra comanda que ens permet assignar quotes a usuaris de la mateixa forma que l'altra, pero evitant entrar al fitxer de configuraci\u00f3 manual.  </p> <p>Despres visualtizem la quota i creem fitxers de prova i directoris amb l'usuari que l'hi hem establit la quota. </p> <p>Aquesta comanda ens permet crear un fitxer de manera controlada per intentar veure com sobrepassem el limit. </p> <p>Aqui seguim creant fins que ens denega la creaci\u00f3, ja que superem el limit de quota. </p> <p>Aqui visualitzem la cuota de l'usuari CLient1 i veiem el limit i el que portem ocupat. </p> <p>Aqui probem de realitzar un altra prova amb interficie grafica i tamb ens diu el seguent error, hem superat la quota de l'usuari. </p> <p>En aquesta captura mostrem la insta\u00b7laci\u00f3 de Warnquota que ens permetra reenviar correus als usuaris quan es superi el limit de quota. </p> <p>Configurem el servei de correu. </p> <p>Omplim aquests camps amb les dades que ens requereixen. </p> <p>Editarem el fitxer warnquota.conf amb el missatge personalitzat. </p> <p>L'executem i l'afegim al crontab per a que s'excuti diariament.  </p> <p>Finalment rebem el correu de test pero no arribem a obtindre el correu de limit de quota, ja que tenim algun error de sintaxis. </p>"},{"location":"Sprint_5/Quotes_usuaris_grups/#quota-grups","title":"Quota Grups","text":"<p>Una altra manera molt utilitzada per aplicar quotes \u00e9s fer-ho a nivell de grups. En aquest cas, podem assignar una quota a un grup i afegir-hi els usuaris. Aix\u00ed, els usuaris dins d'aquest grup heredaran la quota del grup i prevaldra sobre la personal de usuari.</p> <p>Afegim l'usuari Client1 al grup Nois, i assignem la quota al grup. </p> <p>En aquesta captura, podem veure que l'usuari client1 est\u00e0 dins del grup nois, per\u00f2 quan utilitzem la comanda repquota -g /mnt/dades_pellisa per verificar les quotes del grup, la quota aplicada a l'usuari client1 continua sent la seva quota individual, no la del grup.</p> <p>Quan verifiquem la quota de l'usuari amb la comanda repquota -u /mnt/dades_pellisa, veiem que la quota de client1 preval sobre la quota del grup, ja que la quota personal de l'usuari \u00e9s visible en lloc de la quota del grup. Aix\u00f2 confirma que, quan un usuari t\u00e9 una quota assignada directament, aquesta preval sobre les quotes assignades al grup. </p> <p>Afegirem un nou usuari amb el nom Andrea i l'hi donem els permisos seguents i l'afegim al grup Nois. </p> <p>Aqui realitzem la creaci\u00f3 dels fitxers per sobrepassar el limit. </p> <p>Aqui per motius tecnics realitzem la creacio de un nou grup amb l'usuari andrea i la seva assignacio de quota com a grup.  Donem permisos del grup sobre la carpeta de montatge. </p> <p>I aqui tornem a la creaci\u00f3 de fitxers i podem veure com classe va pujant el limit de quota. </p> <p>Aqui tornem a realitzar la creaci\u00f3 i veiem que ja ens denega perque ja hem superat el limit de quota del grup. </p> <p>Podem comprovarho amb la comanda seguent i veiem que el grup te el simbol de + conforme ha superat el limit de quota. </p>"},{"location":"Sprint_5/Servidor_Actualitzacions/","title":"Servidors d'Actualitzacions","text":"<p>Els servidors d'actualitzacions s\u00f3n servidors remots utilitzats per descarregar actualitzacions de programari, seguretat o altres dades necess\u00e0ries per mantenir el bon funcionament i la seguretat dels sistemes. Aquests servidors permeten mantenir el programari actualitzat, protegir-lo contra vulnerabilitats i millorar la seva funcionalitat.</p> <p>Els servidors d'actualitzaci\u00f3 no nom\u00e9s s'utilitzen en sistemes operatius com Ubuntu, sin\u00f3 que s\u00f3n una part fonamental en una gran varietat de dispositius i serveis.</p>"},{"location":"Sprint_5/Servidor_Actualitzacions/#funcio-dels-servidors-dactualitzacions","title":"Funci\u00f3 dels Servidors d'Actualitzacions","text":""},{"location":"Sprint_5/Servidor_Actualitzacions/#1-actualitzacions-de-seguretat","title":"1. Actualitzacions de Seguretat","text":"<ul> <li>Els sistemes operatius i aplicacions poden presentar vulnerabilitats de seguretat amb el temps.</li> <li>Els servidors d'actualitzacions ofereixen parches de seguretat per corregir aquestes vulnerabilitats i protegir el sistema de possibles atacs externs.</li> <li>Aquest tipus d'actualitzacions s\u00f3n essencials per mantenir la seguretat del sistema i evitar riscos com virus, malware o altres amenaces.</li> </ul>"},{"location":"Sprint_5/Servidor_Actualitzacions/#2-actualitzacions-de-programari","title":"2. Actualitzacions de Programari","text":"<ul> <li>Els servidors d'actualitzacions ofereixen noves versions d'aplicacions o eines que ja estan instal\u00b7lades al sistema.</li> <li>Aquestes actualitzacions poden incloure noves funcionalitats, millores d'\u00fas o compatibilitat, aix\u00ed com afegir suport per noves tecnologies.</li> <li>Tamb\u00e9 poden corregir errors o millorar la compatibilitat amb altres components del sistema.</li> </ul>"},{"location":"Sprint_5/Servidor_Actualitzacions/#3-correccions-derrors","title":"3. Correccions d'Errors","text":"<ul> <li>Els desenvolupadors llan\u00e7an actualitzacions que poden corregir mal funcionament de programari o bugs detectats en versions anteriors.</li> <li>Aquestes correccions permeten que el programari funcioni de manera m\u00e9s efica\u00e7 i sense errors que podrien afectar l'experi\u00e8ncia de l'usuari o la seguretat.</li> </ul>"},{"location":"Sprint_5/Servidor_Actualitzacions/#4-millores-de-rendiment","title":"4. Millores de Rendiment","text":"<ul> <li>Els servidors d'actualitzacions no nom\u00e9s es centren en solucionar problemes, sin\u00f3 que tamb\u00e9 poden incloure optimitzacions de rendiment.</li> <li>Aquests canvis poden ajudar a que el sistema o les aplicacions funcionin m\u00e9s r\u00e0pidament i eficientment, millorant l'\u00fas de recursos com la mem\u00f2ria o la CPU.</li> </ul>"},{"location":"Sprint_5/Servidor_Actualitzacions/#tipus-de-servidors-dactualitzacio","title":"Tipus de Servidors d'Actualitzaci\u00f3","text":"<p>Els servidors d'actualitzaci\u00f3 poden estar distribu\u00efts de diferents maneres:</p> <ul> <li>Servidors P\u00fablics: S\u00f3n accessibles per qualsevol usuari o organitzaci\u00f3, com els servidors d'actualitzaci\u00f3 de sistemes operatius (per exemple, servidors de Ubuntu o Windows Update).</li> <li>Servidors Privats: Utilitzats per organitzacions o empreses que volen controlar les actualitzacions de programari dins de la seva infraestructura interna.</li> <li>Servidors Locals: En algunes xarxes, es poden configurar servidors locals que descarreguen actualitzacions d'un servidor central i les distribueixen als dispositius interns per millorar la velocitat i l'efici\u00e8ncia de la desc\u00e0rrega.</li> </ul>"},{"location":"Sprint_5/Servidor_Actualitzacions/#com-funciona-el-proces-dactualitzacio","title":"Com Funciona el Proc\u00e9s d'Actualitzaci\u00f3?","text":"<ol> <li>Verificaci\u00f3 d'Actualitzacions: El sistema o aplicaci\u00f3 verifica regularment la disponibilitat d'actualitzacions al servidor d'actualitzacions.</li> <li>Descarrega les Actualitzacions: Quan es detecta que hi ha noves actualitzacions disponibles, el sistema les descarrega del servidor.</li> <li>Instal\u00b7laci\u00f3 de les Actualitzacions: Un cop descarregades, les actualitzacions es poden instal\u00b7lar autom\u00e0ticament o requerir que l'usuari les instal\u00b7li manualment.</li> <li>Reinici o Finalitzaci\u00f3: Algunes actualitzacions poden requerir un reinici del sistema o aplicaci\u00f3 per completar la instal\u00b7laci\u00f3 i assegurar que els canvis tinguin efecte.</li> </ol>"},{"location":"Sprint_5/Servidor_Actualitzacions/#beneficis-dels-servidors-dactualitzacions","title":"Beneficis dels Servidors d'Actualitzacions","text":"<ul> <li>Seguretat Millorada: Les actualitzacions de seguretat s\u00f3n crucials per mantenir el sistema protegit.</li> <li>Estabilitat: Les actualitzacions que corregeixen errors milloren l'estabilitat i el rendiment del sistema.</li> <li>Noves Funcionalitats: Permeten que el programari s'actualitzi amb noves funcionalitats que milloren l'experi\u00e8ncia de l'usuari.</li> <li>Optimitzaci\u00f3: Milloren l'efici\u00e8ncia general del sistema, com la gesti\u00f3 de mem\u00f2ria o el consum de recursos.</li> </ul>"},{"location":"Sprint_5/Servidor_Actualitzacions/#documentacio-installacio-desatesa","title":"Documentaci\u00f3 Instal\u00b7laci\u00f3 desatesa.","text":""},{"location":"Sprint_5/Servidor_Actualitzacions/#servidor","title":"Servidor","text":"<p>En aquest ap\u00e0rta procedirem a l'instalacio d'un servidor amb servei d'actualitzacions centralitzat. El primer pas de tot sera actualitzar la llista de paquets amb un apt update i a continuaci\u00f3 instal\u00b7larem l'Apache2 servidor Web. </p> <p>Conjuntament instal\u00b7larem l'eina apt-mirror, aquesta eina ens permet descarregar de forma local els repositoris Apt, es a dir ens serveix per actualitzar i descarregar paquets, de manera local envers d'accedir a la xarxa. </p> <p>Aqui realitzarem un sudo nano del fitxer /etc/apt/mirror.list on haurem de afegir la linia penultima per establir el repositori al seveir mirror. Guardem i sortim. </p> <p>Despres realitzarem aquesta comanda per descarregar els paquets que hem definit anteriorment. </p> <p>I obtindrem un resultat com aquest. </p> <p>Per ultim executem aquesta comanda per afegir un enlla\u00e7 simb\u00f2lic del paquet de chrome al seguent directori del servidor Apache2 </p>"},{"location":"Sprint_5/Servidor_Actualitzacions/#client","title":"Client","text":"<p>En aquest apartat realitzarem la configuracio del client per poder realitzar la baixada de repositoris de forma local, a continuaci\u00f3 executem aquesta comanda que ens permetra baixar la signatura publica des de google amb un apt-key permeten la verificacio sobre la correctesa dels paquets sobre els quals descarregarem. </p> <p>Despres realitzarem un nano i editarem el fitxer /etc/apt/sources.list per establir la ruta del nostre servidor. </p> <p>Realitzarem un apt update i automaticament podrem comprovar que la primera font dels repositoris la busca directament al nostre servidor. </p> <p>Finalment instal\u00b7lem el paquet en concret google-chrome desde forma local es a dir desde el nostre servidor. </p>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/","title":"Introducci\u00f3 a les Auditories i al Monitoratge en Windows","text":"<p>En sistemes operatius Windows, especialment en entorns corporatius o cr\u00edtics, \u00e9s fonamental disposar de mecanismes que permetin supervisar, registrar i analitzar les activitats dels usuaris i del sistema. Aquestes funcionalitats s\u00f3n essencials per garantir la seguretat, el rendiment i el compliment normatiu.</p> <p>Aquest document presenta una introducci\u00f3 detallada a dues pr\u00e0ctiques fonamentals: les auditories i el monitoratge dins de Windows.</p>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#1-auditories-en-windows","title":"1. Auditories en Windows","text":""},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#11-que-es-una-auditoria","title":"1.1 Qu\u00e8 \u00e9s una auditoria?","text":"<p>Una auditoria \u00e9s el proc\u00e9s de registrar i examinar els esdeveniments i accions que ocorren dins del sistema operatiu. A Windows, aquest proc\u00e9s es realitza mitjan\u00e7ant el subsistema d'auditoria del sistema de seguretat, que registra informaci\u00f3 detallada sobre accions espec\u00edfiques dels usuaris o del sistema.</p>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#12-objectius-de-lauditoria","title":"1.2 Objectius de l\u2019auditoria","text":"<ul> <li>Detecci\u00f3 d\u2019activitats malicioses (p. ex. intents de connexi\u00f3 no autoritzats).</li> <li>Seguiment de l\u2019acc\u00e9s a dades sensibles.</li> <li>Verificaci\u00f3 del compliment de pol\u00edtiques internes o normatives (com ISO 27001, GDPR, etc.).</li> <li>An\u00e0lisi postmortem despr\u00e9s d\u2019un incident de seguretat.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#13-tipus-desdeveniments-auditables","title":"1.3 Tipus d\u2019esdeveniments auditables","text":"<p>Windows permet auditar diversos tipus d\u2019esdeveniments, com ara:</p> <ul> <li>Inici i tancament de sessi\u00f3.</li> <li>Canvis en comptes d\u2019usuari i grups.</li> <li>Acc\u00e9s a fitxers o carpetes espec\u00edfiques.</li> <li>\u00das de privilegis especials (p. ex. elevaci\u00f3 de permisos).</li> <li>Modificacions en pol\u00edtiques de seguretat.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#14-configuracio-dauditories","title":"1.4 Configuraci\u00f3 d\u2019auditories","text":"<p>Per configurar una auditoria, es poden utilitzar les eines seg\u00fcents:</p>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#a-politiques-locals-de-seguretat-secpolmsc","title":"a) Pol\u00edtiques locals de seguretat (<code>secpol.msc</code>)","text":"<ol> <li>Obre el men\u00fa Inici i escriu <code>secpol.msc</code>.</li> <li>Navega a: Pol\u00edtiques locals &gt; Pol\u00edtica d\u2019auditoria.</li> <li>Activa les categories d\u2019auditoria (p. ex. \"Auditar esdeveniments de connexi\u00f3\").</li> </ol>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#b-politiques-de-grup-gpo","title":"b) Pol\u00edtiques de grup (GPO)","text":"<ol> <li>Obre <code>gpedit.msc</code> o configura les GPOs des del controlador de domini.</li> <li>Ruta: <code>Configuraci\u00f3 de l\u2019equip &gt; Configuraci\u00f3 de Windows &gt; Configuraci\u00f3 de seguretat &gt; Pol\u00edtiques locals &gt; Pol\u00edtica d'auditoria</code>.</li> <li>Tamb\u00e9 es pot utilitzar la configuraci\u00f3 avan\u00e7ada d\u2019auditoria (<code>Audit Policy (Advanced)</code>).</li> </ol>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#15-revisio-dels-esdeveniments","title":"1.5 Revisi\u00f3 dels esdeveniments","text":"<p>Els esdeveniments auditats es poden consultar mitjan\u00e7ant:</p> <ul> <li>Visor d'esdeveniments (<code>eventvwr.msc</code>)</li> <li>Ruta: <code>Registres de Windows &gt; Seguretat</code></li> <li>Cada entrada inclou: ID de l'esdeveniment, usuari, hora, i detall de l'acci\u00f3 realitzada.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#16-exemples-practics","title":"1.6 Exemples pr\u00e0ctics","text":"<ul> <li>Esdeveniment 4624: Inici de sessi\u00f3 exit\u00f3s.</li> <li>Esdeveniment 4625: Inici de sessi\u00f3 fallit.</li> <li>Esdeveniment 4663: Acc\u00e9s a un objecte (p. ex. fitxer o carpeta).</li> <li>Esdeveniment 4720: Creaci\u00f3 d\u2019un compte d\u2019usuari.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#2-monitoratge-en-windows","title":"2. Monitoratge en Windows","text":""},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#21-que-es-el-monitoratge","title":"2.1 Qu\u00e8 \u00e9s el monitoratge?","text":"<p>El monitoratge \u00e9s la pr\u00e0ctica de supervisar l\u2019activitat i rendiment del sistema operatiu, els serveis i les aplicacions en temps real o de forma retrospectiva. Serveix per detectar problemes, optimitzar recursos i garantir una operaci\u00f3 estable.</p>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#22-objectius-del-monitoratge","title":"2.2 Objectius del monitoratge","text":"<ul> <li>Assegurar la disponibilitat dels serveis.</li> <li>Identificar colls d\u2019ampolla en el rendiment.</li> <li>Detectar fallades de maquinari o programari.</li> <li>Prevenir atacs per comportament an\u00f2mal (p. ex. \u00fas excessiu de CPU).</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#23-eines-natives-de-monitoratge","title":"2.3 Eines natives de monitoratge","text":""},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#a-gestor-de-tasques-task-manager","title":"a) Gestor de tasques (<code>Task Manager</code>)","text":"<ul> <li>Monitoratge b\u00e0sic de:</li> <li>CPU, mem\u00f2ria, disc i xarxa.</li> <li>Processos actius.</li> <li>Serveis en execuci\u00f3.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#b-monitor-de-rendiment-perfmonmsc","title":"b) Monitor de rendiment (<code>perfmon.msc</code>)","text":"<ul> <li>Permet crear jocs de recopilaci\u00f3 de dades.</li> <li>Supervisi\u00f3 personalitzada d\u2019indicadors com:</li> <li><code>% Processor Time</code></li> <li><code>Available MBytes</code></li> <li><code>Disk Queue Length</code></li> <li><code>Network Interface</code></li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#c-monitor-de-recursos-resmon","title":"c) Monitor de recursos (<code>resmon</code>)","text":"<ul> <li>Interf\u00edcie detallada sobre:</li> <li>Activitat de CPU, mem\u00f2ria, disc i xarxa.</li> <li>Relaci\u00f3 entre processos i recursos consumits.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#d-visor-desdeveniments-eventvwrmsc","title":"d) Visor d\u2019esdeveniments (<code>eventvwr.msc</code>)","text":"<ul> <li>A m\u00e9s de seguretat, registra errors i advert\u00e8ncies del sistema, aplicacions i serveis.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#24-solucions-avancades-i-de-tercers","title":"2.4 Solucions avan\u00e7ades i de tercers","text":"<p>Per a entorns complexos o grans xarxes, \u00e9s recomanable utilitzar eines m\u00e9s completes com:</p> <ul> <li>Windows Admin Center: interf\u00edcie centralitzada per gestionar i monitorar equips.</li> <li>Nagios: eina de monitoratge de sistemes i xarxes.</li> <li>Zabbix: monitoratge distribu\u00eft amb suport per a alertes i visualitzacions.</li> <li>SolarWinds: soluci\u00f3 comercial per a la monitoritzaci\u00f3 integral d'infraestructures.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#25-alertes-i-notificacions","title":"2.5 Alertes i notificacions","text":"<p>Es poden configurar alertes per detectar anomalies o fallades. Per exemple:</p> <ul> <li>Configurar alertes en <code>Performance Monitor</code> per rebre una notificaci\u00f3 si l\u2019\u00fas de CPU supera el 90% durant m\u00e9s de 5 minuts.</li> <li>Utilitzar <code>Task Scheduler</code> per executar scripts autom\u00e0tics davant de determinats esdeveniments.</li> </ul>"},{"location":"Sprint_5_Windows/Auditories_i_Monitoratge/#3-crear-auditories-en-windows","title":"3. Crear Auditories en Windows","text":"<p>Per activar i configurar una auditoria, cal fer-ho mitjan\u00e7ant pol\u00edtiques de seguretat local o GPOs (Group Policy Objects).</p> <p>Primer que tot obrirem l'eina secpol via ejecutar. </p> <p>Aqui veiem que ens ha portat a directives de seguritat local, de dirigirem a directives locals i veiem totes les possibilitats per poder auditar. </p> <p>Nosaltres executarem la de inici de sessi\u00f3 i capturarem els accesos erronis. </p> <p>Guardem i veiem com ens canvia a estat de audici\u00f3 Erronea, com hem seleccionat. </p> <p>Un cop activada la auditoria ara ens dirigirem a eventvwr, on es apareixera el visor de events i procedim a crear una vista personalitzada per poder veure els accesos erronis del sistema i ena quest cas establim els parametres seguents. </p> <p>Un cop realitzat el filtre de vista, procedim a realitzar les proves de iniciar i veiem que ja ens comen\u00e7a a captura quan inciem sessio amb l'usuari Josep. </p> <p>Aqui tambe mostrem una mateix process de la mateixa secci\u00f3 i veiem perque s'ha generat aquest event. </p> <p>Aqui provem de equivocar-nos al iniciar sessi\u00f3 i veiem com ens ho captura amb el seu ID de proces i el motiu de l'error. </p> <p>Ara crearem un auditoria (GPO) per a controlar els moviments d'un objecte en aquest cas ho farem per al recurs compartit del domini, que es el RAID 5.</p> <p>Ens dirigim a el disc, propietats, seguretat i opcions avan\u00e7ades. </p> <p>Un cop estem a opcions avan\u00e7ades ens dirigim a la pestanya de Auditoria i aqui afegirem a l'usuari que controlarem. </p> <p>Escollirem a Josep el mateix usuari, i l'hi donarem a auditar tots els permisos es a dir Control total. </p> <p>Aqui veiem els permisos a auditar. </p> <p>Un cop finalitzem veiem que ja la tenim correctament configurada pero abans de tot ens toca activar la auditoria a GPO's. </p> <p>Ens dirigim a les GPO i a la zona on marquem les fletxes es on crearem una nova GPO anomenada auditories. </p> <p>En aquesta GPO l'editarem i ens dirigirem a Directivas, config de seguretat i alli seleccionarem Auditar acces a objectes en mode Correcte com erroni, es a dir auditara les execucions bones com les de error. </p> <p>Aqui mostrem com hauria de quedar la configuracio de la Auditoria. </p> <p>Actualitzem les GPO al usuari Josep </p> <p>I crearem el fitxer de text prova. </p> <p>I si ens anem a visor de events podem veure com a l'apartat de seguritat ens ha detectat quan hem creat un fitxer amb l'usuari Josep al RAID de recurs compartit del domini. </p> <p>Aqui en temes de monitoritzar, mostrem diferents visors de events, com el de tasques i amb el seus processos. </p> <p>Veiem analisi del flux del hardware. </p> <p>I tambe mostrem que Windows disposa tambe de Monitor de rendiments per analitzar el hardware d'un altra forma mes eficient. </p>"}]}